(window.webpackJsonp=window.webpackJsonp||[]).push([[75],{"02b5":function(module,exports,e){},"1G4o":function(module,e,i){"use strict";var t=i("q1tI"),n=i("eJMc"),a=i.n(n),r=i("BVC1"),s=i("yhVA"),o=i.n(s);e.a=function(e){var i=e.computedItem;return t.createElement("div",{className:"rc-AssignmentSubmitBeforeReviewWarning"},t.createElement("div",{className:"bgcolor-warn-light color-warn-dark",style:{padding:16,margin:"12px 0px"}},o()("Submit your project before reviewing classmates.")),t.createElement("div",{className:"vertical-box align-items-vertical-center"},t.createElement(a.a,{to:r.a.join(i.resourcePath,"submit"),className:"link-button primary"},o()("Go to my project"))))}},GJzg:function(module,exports,e){e("mjxX")},QvzW:function(module,e,i){"use strict";i.r(e);var t,n=i("VbXa"),a=i.n(n),r=i("q1tI"),s=i("17x9"),o=i.n(s),l=i("F/us"),m=i.n(l),c=i("8cuT"),u=i("pR6o"),d=i("BVC1"),v=i("L1vm"),b=i("sQ/U"),f=i("EdUP"),p=i("welz"),g=i.n(p),h=i("eLAd"),S=i.n(h),w=i("vlZc"),E=i.n(w),y=i("wd/R"),N=i.n(y),k=i("15pW"),I=i("Dob0"),R=E.a.AssociatedModel.extend({relations:[{type:E.a.One,key:"creator",relatedModel:I.a}],getReviewLink:function(){return d.a.join(this.collection.getItemLink(),"review",this.get("id"))},getTimestampString:function(){return this.timestampString=N()(this.get("createdAt")).fromNow()},getUserName:function(){return this.get("creator.fullName")},getUserPhoto:function(){return this.get("creator.photoUrl")},getTruncatedTitle:function(){return S()(this.get("title"),{length:k.d.gallery.maxTitleLength,separator:" ",omission:"…"})}}),P=g.a.Collection.extend({model:R,initialize:function(e,i){this.metadata=i.metadata},getItemLink:function(){return this.metadata.getBaseLink()},parse:function(e,i){return m()(e.submissionSummaries).map((function(i){var t=m()(e.userProfiles).findWhere({userId:i.creatorId});return m()(i).extend({creator:t})}))}}),A=i("1G4o"),O=i("VMeS"),D=i("eJMc"),j=i.n(D),L=i("kvW3"),x=i("NXYo"),G=i("hbUA"),F=i("kWps"),V=i("Zz7k"),T=i("g0DA"),C=i("yhVA"),W=i.n(C),GiveFeedbackNoList_WithAvailableSubmissions=function(e){var i=e.computedItem.requiredReviewCount,n=e.reviewNextLink,a=Object(T.b)().isAssignmentAiGradingEligible;return a.loading||void 0===a.value?t||(t=r.createElement(O.a,null)):r.createElement("div",{className:"rc-GiveFeedbackNoList c-peer-card"},r.createElement("div",{className:"body-2-text"},W()("Review fellow learners")),a.value&&r.createElement("p",null,W()("Grading your classmates’ work aids your own learning process. It allows you to reflect on your own knowledge and discover the different ways your classmates responded to the assignment prompt. Considering different perspectives and approaches can inform your learning.")),r.createElement("p",null,W()("Award points and give constructive feedback using the grading criteria provided (if any). Follow these tips to make the most of your learning experience:")),r.createElement("ul",null,r.createElement("li",null,W()("Offer specific ideas or suggestions that the learner can apply right away. Be encouraging and supportive.")),r.createElement("li",null,W()("Use a translation tool if you have a preferred language that’s different from the learner you’re reviewing. Language usage is never a grading criteria.")),r.createElement("li",null,W()("Review #{requiredReviewCount} or more assignment submissions to receive a grade. Help more learners complete this course by giving more reviews.",{requiredReviewCount:i}))),r.createElement(j.a,{className:"link-button primary","data-js":"open-course-link",to:n},W()("Start Reviewing")))},GiveFeedbackNoList_WithoutAvailableSubmissions=function(e){var i=e.displayablePhaseSchedule,t=e.computedItem,n=i&&"submit"===i.currentPhase&&i.phaseStarts.review,a=n&&F.a.getFormattedDeadline(n);return a&&t.isPeerAssignmentReviewComplete?r.createElement("div",{className:"rc-GiveFeedbackNoList c-peer-card"},r.createElement("div",{className:"body-2-text"},W()("No Submissions Available")),r.createElement("div",null,r.createElement(L.b,{message:W()("\n              There are no submissions available for you to review right now. We'll send you an email when\n              classmates' submissions are available to review. Classmates' submissions will be available to review by\n              {reviewsAvailableTime}."),reviewsAvailableTime:r.createElement("span",{className:"body-2-text"},a)}))):r.createElement("div",{className:"rc-GiveFeedbackNoList c-peer-card"},r.createElement("div",{className:"body-2-text"},W()("No Submissions Available")),r.createElement("div",null,W()("\n            There are no submissions available for you to review right now. Come back later if you want to review\n            more classmates' submissions!")))},GiveFeedbackNoList_MentorGradedMessage=function(e){return r.createElement("div",{className:"rc-GiveFeedbackNoList"},r.createElement("div",{className:"c-peer-card"},r.createElement("p",null,W()("All grading for this assignment will be done by course mentors."))),r.createElement(x.a,{requestedCapability:V.e.viewSubmissionList},e.isSubmissionAvailableForReview?r.createElement(GiveFeedbackNoList_WithAvailableSubmissions,{computedItem:e.computedItem,reviewNextLink:e.reviewNextLink}):r.createElement(GiveFeedbackNoList_WithoutAvailableSubmissions,{computedItem:e.computedItem,displayablePhaseSchedule:e.displayablePhaseSchedule})))},components_GiveFeedbackNoList=function(e){var i=e.isSubmissionAvailableForReview,t=e.computedItem,n=e.reviewNextLink,a=e.displayablePhaseSchedule;return Object(G.u)(t)?r.createElement(GiveFeedbackNoList_MentorGradedMessage,e):i?r.createElement(GiveFeedbackNoList_WithAvailableSubmissions,{computedItem:t,reviewNextLink:n}):r.createElement(GiveFeedbackNoList_WithoutAvailableSubmissions,{computedItem:t,displayablePhaseSchedule:a})},q=i("Ef0b"),U=i("lSNA"),z=i.n(U),Q=i("3tO9"),Y=i.n(Q),J=i("AeFk"),M=i("rzCt"),B=i("fguj"),X=i("BbiL"),H=i("fw5G"),Z=i.n(H),K=i("S+eF"),ee=i.n(K),ie=i("DnuM"),te=Object(ie.a)("/api/onDemandPeerAuthoredReviewSummaries.v1",{type:"rest"}),ne=["submissionId","isMentorReview","creatorId","createdAt"],ae=["userId","externalUserId","fullName","photoUrl","courseRole","isSuperuser"],re=["summary","computed"],onDemandPeerAuthoredReviewSummariesApi_getReviewedSubmissions=function(e){var i=e.userId,t=e.courseId,n=e.itemId,a=(new Z.a).addQueryParam("userId",i.toString()).addQueryParam("courseId",t).addQueryParam("itemId",n).addQueryParam("q","byItem").addQueryParam("includes",["submissionSummaries","onDemandPeerSubmissionSummaries.v2(profiles)"].join(",")).addQueryParam("fields",[ne.join(","),"onDemandPeerSubmissionSummaries.v2(".concat(re.join(","),")"),"onDemandSocialProfiles.v1(".concat(ae.join(","),")")].join(","));return ee()(te.get(a.toString()))},se=i("beWW"),oe=i("EqTq"),le=i("8Hdl"),me=i("ca6j"),ce=(i("ydJV"),Object(oe.a)("NextUpSubmissionTile")),listFeedback_NextUpSubmissionTile=function(e){var i=e.submissionSummary,t=e.itemResourcePath,n=i.title,a=i.creator,s=i.createdAt,o=t+"/review/"+i.id;return r.createElement("a",{href:o,className:ce(void 0,void 0,"nostyle")},r.createElement("div",{className:ce("needs-review-banner")},W()("Needs review")),r.createElement("div",{className:ce("header",void 0,"headline-4-text")},n),r.createElement("div",{className:ce("footer")},r.createElement("div",{className:ce("profile-image-container")},r.createElement(me.a,{profile:a,size:40})),r.createElement("div",{className:ce("name-and-time-container")},r.createElement(le.a,{className:ce("full-name"),variant:"h3semibold",component:"strong"},a.fullName),r.createElement("div",{className:ce("submission-time")},r.createElement(L.b,{message:W()("Submitted {submissionTime}"),submissionTime:N()(s).fromNow()})))))},ue=(i("GJzg"),Object(oe.a)("SubmissionTile")),listFeedback_SubmissionTile=function(e){var i=e.submissionSummary,t=e.itemResourcePath,n=i.title,a=i.creator,s=i.createdAt,o=t+"/review/"+i.id;return r.createElement("div",{className:ue()},r.createElement("a",{href:o,className:ue("link-container",void 0,"nostyle")},r.createElement("div",{className:ue("header")},r.createElement("div",{className:ue("submission-time")},N()(s).fromNow()),r.createElement("div",{className:ue("title",void 0,"headline-1-text")},n)),r.createElement("div",{className:ue("footer")},r.createElement("div",{className:ue("profile-image-container")},r.createElement(me.a,{profile:a,size:30})),r.createElement("div",{className:ue("name-and-time-container")},r.createElement("div",{className:ue("full-name")},a.fullName)))))},de=i("Hk9X"),ve={LOADING:"LOADING",LOAD_ERROR:"LOAD_ERROR",READY:"READY"},be={REVIEWED:"REVIEWED",NOT_REVIEWED:"NOT_REVIEWED"},ListFeedbackView_getSubmissionSummaryWithProfile=function(e,i){var t=i.reduce((function(e,i){return Y()(Y()({},e),{},z()({},i.userId,i))}),{});return e.map((function(e){return Y()(Y()({},e),{},{creator:t[e.creatorId]})}))},fe={filter:Object(J.c)({display:"flex",alignItems:"center",margin:"12px 0"}),filterSelect:function(e){return Object(J.c)({flexDirection:"row",alignItems:"center","& label":{color:e.palette.gray[700],marginBottom:e.spacing(0),span:{display:"none !important"}},"& > div":{marginTop:"".concat(e.spacing(0)," !important"),marginLeft:e.spacing(8)}})},submissionContainer:Object(J.c)({display:"flex",flexWrap:"wrap"})},pe=function(e){function ListFeedbackView(){for(var i,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return(i=e.call.apply(e,[this].concat(n))||this).state={filter:be.NOT_REVIEWED,reviewedSubmissionSummaries:[],notReviewedSubmissionSummaries:[],networkState:ve.READY,announcement:""},i.onFilterChange=function(e){i.setState({filter:e.target.value})},i.onReviewedSubmissionsFetchSuccess=function(e){var t=Object(de.c)(e);i.setState({reviewedSubmissionSummaries:ListFeedbackView_getSubmissionSummaryWithProfile(t.submissionSummaries,t.userProfiles),networkState:ve.READY,announcement:W()("Submissions filtered by projects I have reviewed.")})},i.onNotReviewedSubmissionsFetchSuccess=function(e){var t=Object(de.b)(e);i.setState({notReviewedSubmissionSummaries:ListFeedbackView_getSubmissionSummaryWithProfile(t.submissionSummaries,t.userProfiles),networkState:ve.READY,announcement:W()("Submissions filtered by projects I have not reviewed.")})},i.onFetchError=function(){i.setState({networkState:ve.LOAD_ERROR})},i.getSubmissionSummariesForDisplay=function(){var e=i.getNextUpSubmissionThatNeedReviews(),t=i.state,n=t.filter,a=t.reviewedSubmissionSummaries,r=t.notReviewedSubmissionSummaries;return n===be.NOT_REVIEWED?r.filter((function(i){return i.id!==(null==e?void 0:e.id)})):a},i.getNextUpSubmissionThatNeedReviews=function(){return i.props.submissionSummaries.filter((function(e){return!e.reviewTargetReached}))[0]},i.fetchReviewedSubmissions=function(){var e=i.props.computedItem;return i.setState({networkState:ve.LOADING,reviewedSubmissionSummaries:[]}),onDemandPeerAuthoredReviewSummariesApi_getReviewedSubmissions({userId:b.a.get().id,courseId:e.courseId,itemId:e.id}).then(i.onReviewedSubmissionsFetchSuccess).catch(i.onFetchError)},i.fetchNotReviewedSubmissions=function(){var e=i.props.computedItem;return i.setState({networkState:ve.LOADING,notReviewedSubmissionSummaries:[]}),Object(se.a)({userId:b.a.get().id,courseId:e.courseId,itemId:e.id}).then(i.onNotReviewedSubmissionsFetchSuccess).catch(i.onFetchError)},i}a()(ListFeedbackView,e);var i=ListFeedbackView.prototype;return i.componentDidMount=function(){this.fetchNotReviewedSubmissions()},i.componentDidUpdate=function(_,e){var i=this.state.filter;e.filter!==i&&(i===be.NOT_REVIEWED?this.fetchNotReviewedSubmissions():this.fetchReviewedSubmissions())},i.render=function(){var e=this.props.computedItem,i=this.state,t=i.filter,n=i.networkState,a=i.announcement,r=this.getNextUpSubmissionThatNeedReviews(),s=this.getSubmissionSummariesForDisplay();return Object(J.d)("div",null,0===s.length&&Object(J.d)("div",null,W()("There are no submissions left for you to review. Please check again later!")),!r&&0!==s.length&&Object(J.d)("div",null,W()("You have reviewed all ungraded submissions. You may review graded submissions, but the authors will not receive your reviews, and your reviews will not count towards their grade. If possible, please check later for new submissions to review.")),r&&Object(J.d)(listFeedback_NextUpSubmissionTile,{itemResourcePath:e.resourcePath,submissionSummary:r}),Object(J.d)("div",{css:fe.filter},Object(J.d)(M.a,{css:fe.filterSelect,value:t,label:W()("Filter:"),optional:!0,onChange:this.onFilterChange},[{label:W()("Projects I have reviewed"),value:be.REVIEWED},{label:W()("Projects I have not reviewed"),value:be.NOT_REVIEWED}].map((function(e){return Object(J.d)(B.a,{key:e.value,value:e.value},e.label)})))),Object(J.d)("div",{css:fe.submissionContainer},Object(J.d)("div",{role:"alert"},n!==ve.READY&&Object(J.d)("p",null,function(e){return{LOADING:W()("Loading..."),LOAD_ERROR:W()("Load error!")}[e]}(n)),Object(J.d)(X.a,{tagName:"span"},n!==ve.LOADING?a:null),n===ve.READY&&Object(J.d)("div",null,0===s.length?W()("There are no submissions in this list."):Object(J.d)(X.a,{tagName:"span"},W()("There are #{submissionCount} submissions in this list.",{submissionCount:s.length})))),s.map((function(i){return Object(J.d)(listFeedback_SubmissionTile,{key:i.id,itemResourcePath:e.resourcePath,submissionSummary:i})}))))},ListFeedbackView}(r.Component),ge=(i("Wvfg"),function(e){function PeerItemGiveFeedback(){return e.apply(this,arguments)||this}a()(PeerItemGiveFeedback,e);var i=PeerItemGiveFeedback.prototype;return i.renderGiveFeedbackView=function(){var e=this.props,i=e.submissionSummariesCollection,t=e.computedItem,n=e.submissionSummaries;return i&&n?r.createElement(pe,{computedItem:t,submissionSummaries:n}):null},i.renderGiveFeedbackNoListView=function(){var e=this.props,i=e.computedItem,t=e.submissionSummariesCollection,n=e.itemProgress,a=e.displayablePhaseSchedule;if(!t)return null;var s=t.length>0,o=d.a.join(i.resourcePath,"review-next");return n?r.createElement(components_GiveFeedbackNoList,{computedItem:i,isSubmissionAvailableForReview:s,reviewNextLink:o,displayablePhaseSchedule:a,itemProgress:n}):null},i.renderSubmitWarning=function(){return r.createElement(A.a,{computedItem:this.props.computedItem})},i.renderErrorState=function(e){return"mustSubmitBeforeReviewing"===e?this.renderSubmitWarning():r.createElement("div",{className:"rc-PeerItemGiveFeedback"},W()("An unknown error has occurred. Please refresh and try again."))},i.render=function(){var e=this,i=this.props,t=i.assignment,n=i.capabilities,a=i.error;return function(){if(null!=a)return e.renderErrorState(a);var i=t&&t.definition&&t.definition.closureType;return m()(n).contains("reviewPeers")&&m()(n).contains("listSubmissions")?e.renderGiveFeedbackView():m()(n).contains("reviewPeers")&&!m()(n).contains("listSubmissions")?e.renderGiveFeedbackNoListView():null==i?e.renderSubmitWarning():null}()},PeerItemGiveFeedback}(r.Component));ge.contextTypes={executeAction:o.a.func.isRequired};var he=m.a.compose(v.a.createTrackedContainer((function(){return{namespace:{page:"peer_review_review_peers"}}})),Object(c.a)(["PeerAssignmentStore","PeerPermissionsAndProgressesStore","PeerReviewQueueStore","DisplayablePhaseScheduleStore","ProgressStore"],(function(e,i){var t,n,a=e.PeerAssignmentStore,r=e.PeerPermissionsAndProgressesStore,s=e.PeerReviewQueueStore,o=e.DisplayablePhaseScheduleStore,l=e.ProgressStore,c=s.getState(),u=c.loaded,d=c.loadState,v=c.submissions,b=c.errorType,f=c.itemId;u&&("loaded"===d&&i.computedItem.id===f?t=new P(v,{parse:!0,metadata:i.itemMetadata}):"loadError"===d&&(n=b));var p=r.getState(),g=p.capabilities,h=p.isSubmitted;return{assignment:a.getState().assignment,capabilities:g,isSubmitted:h,submissionSummariesCollection:t,submissionSummaries:null==v?void 0:v.submissionSummaries,error:n,displayablePhaseSchedule:o.getState().displayablePhaseSchedule,itemProgress:l.courseProgress.getItemProgress(i.computedItem.id),hasLoadedPermissions:"loaded"===r.getState().loadState,canReviewPeers:m()(g).contains("reviewPeers"),canListSubmissions:m()(g).contains("listSubmissions")}})),Object(f.a)((function(e){return e.hasLoadedPermissions}),r.createElement(O.a,{className:"rc-PeerItemGiveFeedback"})),Object(u.a)((function(e,i){var t=i.canListSubmissions,n=i.canReviewPeers,a=i.computedItem,r=i.courseId;if(n){var s=t?20:1;e.executeAction(q.c,{userId:b.a.get().id,itemId:a.id,courseId:r,start:0,limit:s})}})))(ge);e.default=he},Wvfg:function(module,exports,e){e("wLLo")},eryu:function(module,exports){var e={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetAiGradingEligibility"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"assignmentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"assignmentVersion"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"courseId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"itemId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"PeerReviewAi"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"getAiGradingEligibility"},arguments:[{kind:"Argument",name:{kind:"Name",value:"assignmentId"},value:{kind:"Variable",name:{kind:"Name",value:"assignmentId"}}},{kind:"Argument",name:{kind:"Name",value:"assignmentVersion"},value:{kind:"Variable",name:{kind:"Name",value:"assignmentVersion"}}},{kind:"Argument",name:{kind:"Name",value:"courseId"},value:{kind:"Variable",name:{kind:"Name",value:"courseId"}}},{kind:"Argument",name:{kind:"Name",value:"itemId"},value:{kind:"Variable",name:{kind:"Name",value:"itemId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEligible"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:317}};e.loc.source={body:"query GetAiGradingEligibility($assignmentId: ID!, $assignmentVersion: Int!, $courseId: ID!, $itemId: ID!) {\n  PeerReviewAi {\n    getAiGradingEligibility(\n      assignmentId: $assignmentId\n      assignmentVersion: $assignmentVersion\n      courseId: $courseId\n      itemId: $itemId\n    ) {\n      isEligible\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function findOperation(e,i){for(var t=0;t<e.definitions.length;t++){var n=e.definitions[t];if(n.name&&n.name.value==i)return n}}e.definitions.forEach((function(e){if(e.name){var t=new Set;!function collectFragmentReferences(e,i){if("FragmentSpread"===e.kind)i.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&i.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){collectFragmentReferences(e,i)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){collectFragmentReferences(e,i)})),e.definitions&&e.definitions.forEach((function(e){collectFragmentReferences(e,i)}))}(e,t),i[e.name.value]=t}})),module.exports=e,module.exports.GetAiGradingEligibility=function(e,t){var n={kind:e.kind,definitions:[findOperation(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,r=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var o=s;s=new Set,o.forEach((function(e){r.has(e)||(r.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return r.forEach((function(i){var t=findOperation(e,i);t&&n.definitions.push(t)})),n}(e,"GetAiGradingEligibility")},g0DA:function(module,e,i){"use strict";i.d(e,"b",(function(){return useAiGradingContext}));var t=i("J4zp"),n=i.n(t),a=i("q1tI"),r=i("+TN3"),s=i("eryu"),o=i.n(s),l=i("exjt"),m=a.createContext(void 0);function useAiGradingContext(){var e=Object(a.useContext)(m);if(void 0===e)throw new Error("`useAiGradingContext` was used outside of `AiGradingProvider`. Ensure your component is nested under `<AiGradingContext>`.");return e}e.a=function(e){var i,t,s,c=e.courseId,u=e.itemId,d=e.assignmentId,v=e.assignmentVersion,b=e.children,f=Object(l.b)(d),p=Object(a.useState)(!0),g=n()(p,2),h=g[0],S=g[1],w=Object(r.b)(o.a,{variables:{assignmentId:d,assignmentVersion:v,courseId:c,itemId:u},skip:!f,context:{clientName:"gatewayGql"},onCompleted:function(){S(!1)},onError:function(){S(!1)}}),E=f&&!(null===(i=w.data)||void 0===i||null===(t=i.PeerReviewAi)||void 0===t||null===(s=t.getAiGradingEligibility)||void 0===s||!s.isEligible),y=f&&h;return a.createElement(m.Provider,{value:{isAiEpicEnabled:f,isAssignmentAiGradingEligible:{loading:y,value:E}}},b)}},mjxX:function(module,exports,e){},wLLo:function(module,exports,e){},ydJV:function(module,exports,e){e("02b5")}}]);
//# sourceMappingURL=75.020ca92b03a38604ed20.js.map