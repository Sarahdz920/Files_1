(window.webpackJsonp=window.webpackJsonp||[]).push([[64],{"0/vS":function(module,exports){var e={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AiCoach_UpdateWithUserFeedback"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AiCoach_UpdateWithUserFeedbackInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"AiCoach_UpdateWithUserFeedback"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"messageId"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:158}};e.loc.source={body:"mutation AiCoach_UpdateWithUserFeedback($input: AiCoach_UpdateWithUserFeedbackInput!) {\n  AiCoach_UpdateWithUserFeedback(input: $input) {\n    messageId\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function findOperation(e,n){for(var t=0;t<e.definitions.length;t++){var a=e.definitions[t];if(a.name&&a.name.value==n)return a}}e.definitions.forEach((function(e){if(e.name){var t=new Set;!function collectFragmentReferences(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){collectFragmentReferences(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){collectFragmentReferences(e,n)})),e.definitions&&e.definitions.forEach((function(e){collectFragmentReferences(e,n)}))}(e,t),n[e.name.value]=t}})),module.exports=e,module.exports.AiCoach_UpdateWithUserFeedback=function(e,t){var a={kind:e.kind,definitions:[findOperation(e,t)]};e.hasOwnProperty("loc")&&(a.loc=e.loc);var i=n[t]||new Set,r=new Set,o=new Set;for(i.forEach((function(e){o.add(e)}));o.size>0;){var c=o;o=new Set,c.forEach((function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(n){var t=findOperation(e,n);t&&a.definitions.push(t)})),a}(e,"AiCoach_UpdateWithUserFeedback")},"1Tsj":function(module,e,n){"use strict";n.r(e);var t=n("lSNA"),a=n.n(t),i=n("J4zp"),r=n.n(i),o=n("VkAN"),c=n.n(o),s=n("AeFk"),d=n("q1tI"),l=n("DU3t"),u=n("MnCE"),m=n("8cuT"),p=n("sQ/U"),g=n("K7Vu"),b="onDemandSupplements.v1",h=n("8Hdl"),f=n("SJ7i"),v=n("VDEC"),w=n("zJiU"),k=n("RT5p"),x=n("SZwG"),O={NAME:"NAME",USER_ID:"USER_ID",HASHED_USER_ID:"HASHED_USER_ID"},S=O,C=n("loer"),j=n("MKs7"),y=n("pnKK"),N=n("1lFr"),E=n("+rcu"),I=n("vXr1"),A=n("15pW"),T=n("kgYC"),F=n("ZJgU"),R=n("/szJ"),D=n("PB6g"),M=n("/VB6"),L=n("cAeq"),B=n("S+eF"),P=n.n(B),U=n("TSOT"),V=Object(U.a)(A.d.supplementCompletionApi,{type:"rest"}),z=Object(U.a)(A.d.supplementStartApi,{type:"rest"});function updateSupplementProgress(e){var n=e.itemId,t=e.courseId,a=e.userId,i=e.api,r={data:{userId:a,courseId:t,itemId:n}};return P()(i.post("",r))}var H,q,G,W,K,J,Y,X,Q,Z,ee={markComplete:function(e,n,t){return updateSupplementProgress({itemId:e,courseId:n,userId:t,api:V})},markStarted:function(e,n,t){return updateSupplementProgress({itemId:e,courseId:n,userId:t,api:z})}},ne=ee,te=n("E4RX"),ae=n("MC18"),ie=n.n(ae),re={readingCompleteContainer:function(e){return Object(s.c)(H||(H=c()(["\n    margin-top: ",";\n    display: flex;\n    align-items: center;\n    gap: ",";\n\n    "," {\n      flex-direction: column;\n      align-items: flex-start;\n    }\n  "])),e.spacing(32),e.spacing(16),e.breakpoints.down("xs"))},completedContainer:function(e){return Object(s.c)(q||(q=c()(["\n    display: flex;\n\n    "," {\n      margin-top: ",";\n    }\n  "])),e.breakpoints.down("xs"),e.spacing(32))},text:function(e){return Object(s.c)(G||(G=c()(["\n    margin-right: ",";\n    margin-left: ",";\n  "])),e.spacing(24),e.spacing(4))},actionButton:function(e,n){return Object(s.c)(W||(W=c()(["\n    "," {\n      margin-top: ",";\n    }\n\n    display: ",";\n    visibility: ",";\n  "])),e.breakpoints.down("xs"),e.spacing(32),n?"block":"none",n?"visible":"hidden")}},oe=Object(u.b)(Object(M.a)())((function(e){var n=e.isComplete,t=e.nextItem,a=e.itemId,i=e.courseId,o=e.courseProgress,c=e.minimumDurationToComplete,l=e.executeAction,u=Object(I.b)(),m=Object(T.a)(),g=Object(d.useRef)(null),b=Object(d.useState)(!1),f=r()(b,2),v=f[0],w=f[1];Object(d.useEffect)((function(){var e;v&&n&&(null==g||null===(e=g.current)||void 0===e||e.focus())}),[v,n]);var k=Object(d.useState)(!1),x=r()(k,2),O=x[0],S=x[1];Object(d.useEffect)((function(){if(null!=c){S(!0);var e=setTimeout((function(){S(!1)}),1e3*c);return function(){return clearTimeout(e)}}}),[c]);var C=!!t,j=Object(s.d)("div",{"aria-atomic":"true","aria-live":"polite"},Object(s.d)("span",{"aria-hidden":"true"},ie()("This action will be available after #{minimumDurationToComplete} seconds",{minimumDurationToComplete:c})),Object(s.d)(D.b,{tagName:"span"},ie()("This action will be available after #{minimumDurationToComplete} seconds",{minimumDurationToComplete:c})));return Object(s.d)("div",{"data-testid":"reading-complete-container",css:re.readingCompleteContainer},(C||!n)&&Object(s.d)("div",null,Object(s.d)(L.c,{"data-testid":"tooltip-wrapper",placement:"top",message:O?j:""},Object(s.d)(F.a,{"data-testid":"mark-complete",css:re.actionButton(m,!n),variant:"primary",type:"submit",disabled:O,onClick:function(){o.getItemProgress(a).setState(A.e),l(te.c,{courseProgress:o}),Object(te.b)(o.get("id"),o),ne.markComplete(a,i,p.a.get().id).done(),w(!0)}},ie()("Mark as completed"))),Object(s.d)(F.a,{ref:g,"data-testid":"next-item",css:re.actionButton(m,n&&C),variant:"primary",type:"submit",onClick:function(){t&&u.push(t.getLink()),w(!1)}},ie()("Go to next item"))),Object(s.d)("div",{"data-testid":"completed-text",css:re.completedContainer,"aria-live":"polite","aria-busy":v?"false":"true"},n&&Object(s.d)(d.Fragment,null,K||(K=Object(s.d)(R.a,{size:"large",color:"success","aria-hidden":!0})),Object(s.d)(h.a,{variant:"h3bold",color:"success",css:re.text,"aria-label":ie()("Reading completed")},ie()("Completed")))))})),ce=n("kDtP"),se=n("Q/rb"),de=n("j0VE"),le=n("RuU6");n.d(e,"ReadingItem",(function(){return ReadingItem_ReadingItem}));var ue=d.lazy((function(){return Promise.resolve().then(n.bind(null,"VDEC")).then((function(e){return e}))})),me={negativeMarginLeft:Object(s.c)({marginLeft:"-16px"}),title:function(e){return Object(s.c)(J||(J=c()(["\n    margin-bottom: ",";\n    "," {\n      margin-bottom: ",";\n    }\n  "])),e.spacing(32),e.breakpoints.up("md"),e.spacing(48))},cmlRestyling:Object(s.c)(Y||(Y=c()(["\n    max-width: 790px;\n  "]))),body:function(e){return Object(s.c)(X||(X=c()(["\n    margin-bottom: ",";\n  "])),e.spacing(48))},embeddedContentAttribution:function(e){return Object(s.c)(Q||(Q=c()(["\n    margin-top: ",";\n  "])),e.spacing(16))}},ReadingItem_ReadingItem=function(e){var n,t,i=e.branchId,o=e.computedItem,c=e.courseId,u=e.courseSlug,m=e.itemMetadata,f=e.courseMaterials,O=e.courseProgress,I=e.theme,A=Object(d.useState)(void 0),T=r()(A,2),F=T[0],R=T[1],D=Object(d.useState)(),M=r()(D,2),L=M[0],B=M[1];Object(d.useEffect)((function(){(function(e){var n=e.itemId,t=e.courseId,a=e.courseSlug;return new g.a({itemId:n,courseId:t,courseSlug:a}).getWithCourseItemId(b,{includes:["asset"],fields:["openCourseAssets.v1(typeName)","openCourseAssets.v1(definition)","minimumDurationToComplete"]}).then((function(e){var n=e.elements[0].minimumDurationToComplete;return{cml:e.linked["openCourseAssets.v1"][0],minimumDurationToComplete:n}}))})({itemId:o.id,courseId:c,courseSlug:u}).then((function(e){var n=e.cml,t=e.minimumDurationToComplete;R(n),B(t)}))}),[o,c,u]);var P=F?Object(k.e)(F):void 0,U=!(P&&Object(k.l)(P,"1")&&x.c.getInnerContent(P)===o.name),V=S.NAME,z=S.USER_ID,H="CourseraCoach"===Object(le.a)();E.a.get("showLearningAssistant");var q=null==f?void 0:null===(n=f.getNeighbors(m))||void 0===n?void 0:n.nextItemMetadataOrItemGroup,G=d.useRef(null);return Object(s.d)(se.a,{className:"rc-ReadingItem",feedbackType:"reading",computedItem:o,courseId:c,css:me.cmlRestyling},Object(s.d)("div",{css:me.body(I)},F?Object(s.d)("div",{ref:G},U&&Object(s.d)("div",{className:"reading-title",css:me.title(I)},Object(s.d)(h.a,{variant:"d2",component:"h1"},o.name,Object(s.d)(N.a,{courseId:c})),m.getEmbeddedContentSourceCourseId()&&Object(s.d)("div",{css:me.embeddedContentAttribution},Object(s.d)(j.a,{embeddedContentSourceCourseId:m.getEmbeddedContentSourceCourseId(),includeCourseName:!0})),Object(s.d)("div",{css:me.negativeMarginLeft},Object(s.d)(de.a,{courseId:c,courseBranchId:i,itemId:o.id,courseSlug:u}))),!U&&Object(s.d)(N.a,{courseId:c}),Object(s.d)(y.a,{courseId:c,cmlRef:G}),Object(s.d)(C.a,{cml:F,isCdsEnabled:!0,shouldApplyTracking:!0,variableData:(t={},a()(t,V,p.a.get().fullName),a()(t,z,p.a.get().id),t)}),Object(s.d)(oe,{courseId:c,courseSlug:u,itemId:o.id,isComplete:o.isCompleted,nextItem:q,courseProgress:O,minimumDurationToComplete:L})):Z||(Z=Object(s.d)(ce.a,null))),H&&Object(s.d)(d.Suspense,{fallback:null},Object(s.d)(ue,{courseId:c,itemId:o.id,contentType:v.CONTENT_TYPES.READING,mode:l.b.ItemLearning,recommendedActionsEnabled:Object(w.b)(),clipRecommendationsEnabled:Object(w.a)()})))};e.default=Object(u.b)(Object(m.a)(["CourseStore","ProgressStore","SessionStore"],(function(e){var n=e.CourseStore,t=e.ProgressStore,a=e.SessionStore;return{courseId:n.getCourseId(),branchId:a.getBranchId()||n.getCourseId(),courseSlug:n.getCourseSlug(),courseMaterials:n.getMaterials(),courseProgress:t.courseProgress}})),f.a)(ReadingItem_ReadingItem)},"24m0":function(module,exports){exports.default={"ar":true,"de":true,"el":true,"es":true,"fr":true,"hi":true,"hu":true,"id":true,"it":true,"ja":true,"kk":true,"ko":true,"nl":true,"pl":true,"pt":true,"ru":true,"sv":true,"th":true,"tr":true,"uk":true,"zh":true,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":true}},"7h5H":function(module,exports){exports.default={"ar":true,"de":true,"el":true,"es":true,"fr":true,"hi":true,"hu":true,"id":true,"it":true,"ja":true,"kk":true,"ko":true,"nl":true,"pl":true,"pt":true,"ru":true,"sv":true,"th":true,"tr":true,"uk":true,"zh":true,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":true}},"8PY9":function(module,exports,e){e("Xb1k")},DxU6:function(module,exports,e){var n=e("7h5H"),t=n.default?n.default:{},a=(0,e("HdzH").default)(t);a.getLocale=function(){return"en"},module.exports=a},MC18:function(module,exports,e){var n=e("24m0"),t=n.default?n.default:{},a=(0,e("HdzH").default)(t);a.getLocale=function(){return"en"},module.exports=a},VDEC:function(module,e,n){"use strict";n.r(e);var t,a=n("J4zp"),i=n.n(a),r=n("VkAN"),o=n.n(r),c=n("AeFk"),s=n("q1tI"),d=n("Gcrz"),l=n("i8i4"),u=n("/MKj"),m=n("agHs"),p=n("L1vm"),g=n("sQ/U"),b=Object(c.c)(t||(t=o()(["\n  .coach-glasses-fill-dark {\n    fill: #000;\n  }\n\n  .coach-glasses-fill-light {\n    fill: #fff;\n  }\n"])));function CoachSmileIcon(e){var n="light"===e.variant?"coach-glasses-fill-light":"coach-glasses-fill-dark";return Object(c.d)("svg",{css:b,xmlns:"http://www.w3.org/2000/svg",viewBox:"120.0 80.0 350.0 350.0",fill:"none",stroke:"none",strokeLinecap:"square",strokeMiterlimit:"10"},Object(c.d)("g",{clipPath:"url(#g1e02e13141a_0_86.0)"},Object(c.d)("path",{className:n,d:"m154.00131 259.74014l0 0c0 -34.65042 28.089722 -62.740143 62.740158 -62.740143l0 0c16.639725 0 32.59793 6.6101074 44.364 18.37616c11.766052 11.7660675 18.37616 27.724274 18.37616 44.363983l0 0c0 34.65045 -28.089722 62.740173 -62.740158 62.740173l0 0c-34.650436 0 -62.740158 -28.089722 -62.740158 -62.740173zm17.99263 0l0 0c0 24.71341 20.03415 44.74756 44.747528 44.74756c24.713379 0 44.747543 -20.03415 44.747543 -44.74756c0 -24.713364 -20.034164 -44.747528 -44.747543 -44.747528l0 0c-24.713379 0 -44.747528 20.034164 -44.747528 44.747528z",fillRule:"evenodd"}),Object(c.d)("path",{className:n,d:"m310.5013 259.74014l0 0c0 -34.65042 28.089722 -62.740143 62.740143 -62.740143l0 0c16.63974 0 32.59793 6.6101074 44.364014 18.37616c11.766052 11.7660675 18.37616 27.724274 18.37616 44.363983l0 0c0 34.65045 -28.089722 62.740173 -62.740173 62.740173l0 0c-34.65042 0 -62.740143 -28.089722 -62.740143 -62.740173zm17.992615 0l0 0c0 24.71341 20.03415 44.74756 44.747528 44.74756c24.71341 0 44.74756 -20.03415 44.74756 -44.74756c0 -24.713364 -20.03415 -44.747528 -44.74756 -44.747528l0 0c-24.713379 0 -44.747528 20.034164 -44.747528 44.747528z",fillRule:"evenodd"}),Object(c.d)("path",{className:n,d:"m257.64163 242.08545l0 0c6.5712585 -14.1698 20.832336 -23.177536 36.450928 -23.02359c15.618622 0.15396118 29.69934 9.441071 35.99002 23.73764l-17.426147 7.6677246c-3.2775574 -7.4487915 -10.613922 -12.287567 -18.751526 -12.367783c-8.137604 -0.080200195 -15.567902 4.6130066 -18.991669 11.995758z",fillRule:"evenodd"}),Object(c.d)("path",{id:"right-eye",cx:"257",cy:"257",className:n,d:"m216.4155 265.64664l0 0c0 -7.566742 6.1340637 -13.700775 13.70079 -13.700775l0 0c3.6336823 0 7.1185303 1.4434662 9.687927 4.012863c2.569397 2.5694122 4.012863 6.054245 4.012863 9.687912l0 0c0 7.566742 -6.1340485 13.700806 -13.70079 13.700806l0 0c-7.5667267 0 -13.70079 -6.1340637 -13.70079 -13.700806z",fillRule:"evenodd"}),Object(c.d)("path",{id:"left-eye",className:n,d:"m343.0373 265.64664l0 0c0 -7.566742 6.1340637 -13.700775 13.700806 -13.700775l0 0c3.633667 0 7.1184998 1.4434662 9.687897 4.012863c2.569397 2.5694122 4.0128784 6.054245 4.0128784 9.687912l0 0c0 7.566742 -6.1340637 13.700806 -13.700775 13.700806l0 0c-7.566742 0 -13.700806 -6.1340637 -13.700806 -13.700806z",fillRule:"evenodd"}),Object(c.d)("path",{className:n,d:"m328.37347 333.21335l0 0c-6.8821106 12.243011 -19.701324 19.95874 -33.7417 20.308746c-14.040344 0.3499756 -27.228088 -6.7174683 -34.71164 -18.602386l8.925354 -5.619995l0 0c5.502655 8.738983 15.199585 13.935669 25.523468 13.678314c10.323883 -0.25732422 19.749847 -5.930725 24.810272 -14.932983z",fillRule:"evenodd"}),Object(c.d)("path",{className:n,d:"m141.76114 235.90277l0 0c0 -5.5532227 4.5017853 -10.055008 10.055008 -10.055008l11.701004 0l0 0c2.6667633 0 5.224289 1.059372 7.10997 2.945053c1.8856812 1.8856812 2.9450378 4.443207 2.9450378 7.109955l0 7.291565c0 5.5532227 -4.50177 10.055008 -10.055008 10.055008l-11.701004 0c-5.5532227 0 -10.055008 -4.5017853 -10.055008 -10.055008z",fillRule:"evenodd"}),Object(c.d)("path",{className:n,d:"m417.23877 235.90277l0 0c0 -5.5532227 4.50177 -10.055008 10.055023 -10.055008l11.700989 0l0 0c2.666748 0 5.224304 1.059372 7.1099854 2.945053c1.8856506 1.8856812 2.9450378 4.443207 2.9450378 7.109955l0 7.291565c0 5.5532227 -4.5018005 10.055008 -10.055023 10.055008l-11.700989 0c-5.553253 0 -10.055023 -4.5017853 -10.055023 -10.055008z",fillRule:"evenodd"}),Object(c.d)("path",{className:n,d:"m319.48215 327.40158l0 0c1.4785767 -2.5309448 4.7289124 -3.3840942 7.259857 -1.9055176l0 0c1.2153931 0.710022 2.0989685 1.8737793 2.4562988 3.23526c0.35736084 1.3614807 0.15924072 2.8091736 -0.55078125 4.0245667l0 0c-1.4785767 2.5309448 -4.7289124 3.3840637 -7.259857 1.9055176l0 0c-2.5309448 -1.4785461 -3.3840637 -4.7289124 -1.9055176 -7.2598267z",fillRule:"evenodd"}),Object(c.d)("path",{className:n,d:"m259.73413 329.27557l0 0c1.4785461 -2.5309448 4.728882 -3.3840637 7.2598267 -1.9055176l0 0c1.2154236 0.7100525 2.0989685 1.8738098 2.4563293 3.2352905c0.35736084 1.3614807 0.1592102 2.8091736 -0.55081177 4.0245667l0 0c-1.4785461 2.5309448 -4.728882 3.3840637 -7.2598267 1.9055176l0 0c-2.5309448 -1.4785767 -3.3840942 -4.7289124 -1.9055176 -7.259857z",fillRule:"evenodd"}),Object(c.d)("path",{className:n,fillOpacity:"0.0",d:"m29.997375 27.0l46.401573 0l0 42.534775l-46.401573 0z",fillRule:"evenodd"})))}var h,f=n("fsL8"),v=n.n(f),w=n("yXPU"),k=n.n(w),x=n("6OIj"),O=n("xeAZ"),S=n.n(O),C=n("ANjH"),j=n("lSNA"),y=n.n(j),N=n("3tO9"),E=n.n(N),createReducer=function(e,n,t){return e[t.type]?e[t.type](n,t):n},I="BEHAVIOR/TOGGLE_CHAT",A="BEHAVIOR/TOGGLE_FULLSCREEN",T="BEHAVIOR/TOGGLE_INPUT_DISABLED",F="BEHAVIOR/TOGGLE_MSG_LOADER",R="BEHAVIOR/SET_BADGE_COUNT",D="MESSAGES/UPDATE_CHAT_HISTORY",M="MESSAGES/ADD_NEW_USER_MESSAGE",L="MESSAGES/ADD_NEW_RESPONSE_MESSAGE",B="MESSAGES/ADD_NEW_LINK_SNIPPET",P="MESSAGES/ADD_COMPONENT_MESSAGE",U="MESSAGES/DROP_MESSAGES",V="MESSAGES/HIDE_AVATAR",z="MESSAGES/DELETE_MESSAGES",H="MESSAGES/MARK_ALL_READ",q="MESSAGE/FEEDBACK_SET_LIKE",G="MESSAGE/FEEDBACK_SET_UNLIKE",W="MESSAGE/FEEDBACK_UNSET",K="INPUT/SET_USER_INPUT_TEXT",J={showChat:!1,isFullScreen:!1,disabledInput:!1,messageLoader:!1},Y=(h={},y()(h,I,(function(e){return e.isFullScreen?E()(E()({},e),{},{showChat:!e.showChat,isFullScreen:!1}):E()(E()({},e),{},{showChat:!e.showChat})})),y()(h,A,(function(e){return E()(E()({},e),{},{isFullScreen:!e.isFullScreen})})),y()(h,T,(function(e){return E()(E()({},e),{},{disabledInput:!e.disabledInput})})),y()(h,F,(function(e){return E()(E()({},e),{},{messageLoader:!e.messageLoader})})),h),X={inputText:""},Q=y()({},K,(function(e,n){return E()(E()({},e),{},{inputText:n.inputText})})),Z=n("RIqP"),ee=n.n(Z),ne=n("DxU6"),te=n.n(ne),ae={CLIENT:"USER",RESPONSE:"SYSTEM"},ie={TEXT:"text",SNIPPET:{LINK:"snippet"},CUSTOM_COMPONENT:"component"},re="LIKE",oe="DISLIKE",ce="UNSET",se={VIDEO:"video",READING:"reading",COURSE:"course"},constants_getErrorMessageText=function(){return te()("Sorry, there was an error responding. Please try your message again.")},de=400,le="activeCourseraCoachSessionId",ue=n("TNJZ"),me=n.n(ue),pe=n("1M3H"),ge=n.n(pe),be=n("1+lQ"),he=n.n(be),fe=n("MPo6"),ve=n.n(fe),we=n("e6bE"),ke=n.n(we);var components_Message=function(e){var n=e.message,t=ge()({break:!0}).use(me.a,{img:["rcw-message-img"]}).use(ke.a).use(ve.a).use(he.a,{attrs:{target:"_blank",rel:"noopener"}}).render(n.text),a=n.sender===ae.CLIENT?"rcw-client":"rcw-response";return s.createElement("div",{className:"".concat(a," rcw-message-text"),dangerouslySetInnerHTML:{__html:t.replace(/\n$/,"")}})};var xe,components_Snippet=function(e){var n=e.message;return(s.createElement("div",{className:"rcw-snippet"},s.createElement("h5",{className:"rcw-snippet-title"},n.title),s.createElement("div",{className:"rcw-snippet-details"},s.createElement("a",{href:n.link,target:n.target,className:"rcw-link"},n.link))))};function createNewMessage(e){var n=e.text,t=e.sender,a=e.id,i=e.clipRecommendations,r=e.userFeedback,o=e.timestamp,c=e.recommendedActions;return{type:ie.TEXT,component:components_Message,text:n,sender:t,timestamp:o?new Date(o):new Date,showAvatar:!0,customId:a,unread:t===ae.RESPONSE,clipRecommendations:i,userFeedback:r,recommendedActions:c}}function createLinkSnippet(e,n){return{type:ie.SNIPPET.LINK,component:components_Snippet,title:e.title,link:e.link,target:e.target||"_blank",sender:ae.RESPONSE,timestamp:new Date,showAvatar:!0,customId:n,unread:!0}}function createComponentMessage(e,n,t,a){return{type:ie.CUSTOM_COMPONENT,component:e,props:n,sender:ae.RESPONSE,timestamp:new Date,showAvatar:t,customId:a,unread:!0}}function scrollToBottom(e){if(e){var n,t,a,i,r,o,c=e.clientHeight,s=e.scrollTop,d=e.scrollHeight-(s+c);d&&(n=e,t=s,a=d,r=null===(i=window)||void 0===i?void 0:i.requestAnimationFrame,o=0,r((function step(e){o||(o=e);var i=function(e,n,t,a){return t*((e=e/a-1)*e*e+1)+n}(e-o,0,a,de),c=t+i;n.scrollTop=c,c<t+a&&r(step)})))}}var Oe={messages:[],badgeCount:0},Se=(xe={},y()(xe,D,(function(e,n){var t=n.messages.map((function(e){return createNewMessage(e)}));return E()(E()({},e),{},{messages:ee()(t)})})),y()(xe,M,(function(e,n){var t=n.text,a=n.id,i=n.timestamp;return E()(E()({},e),{},{messages:[].concat(ee()(e.messages),[createNewMessage({text:t,sender:ae.CLIENT,id:a,timestamp:i})])})})),y()(xe,L,(function(e,n){var t=n.text,a=n.id,i=n.clipRecommendations,r=n.userFeedback,o=n.timestamp,c=n.recommendedActions;return E()(E()({},e),{},{messages:[].concat(ee()(e.messages),[createNewMessage({text:t,sender:ae.RESPONSE,id:a,clipRecommendations:i,userFeedback:r,timestamp:o,recommendedActions:c})]),badgeCount:e.badgeCount+1})})),y()(xe,B,(function(e,n){var t=n.link,a=n.id;return E()(E()({},e),{},{messages:[].concat(ee()(e.messages),[createLinkSnippet(t,a)])})})),y()(xe,P,(function(e,n){var t=n.component,a=n.props,i=n.showAvatar,r=n.id;return E()(E()({},e),{},{messages:[].concat(ee()(e.messages),[createComponentMessage(t,a,i,r)])})})),y()(xe,U,(function(e){return E()(E()({},e),{},{messages:[],badgeCount:0})})),y()(xe,V,(function(e,n){var t=n.index;e.messages[t].showAvatar=!1})),y()(xe,z,(function(e,n){var t=n.count,a=n.id,i=a?e.messages.filter((function(_,n){var i=e.messages.findIndex((function(e){return e.customId===a}));return n<i-t+1||n>i})):e.messages.slice(0,e.messages.length-t);return E()(E()({},e),{},{messages:i,badgeCount:i.filter((function(e){return e.unread})).length})})),y()(xe,R,(function(e,n){var t=n.count;return E()(E()({},e),{},{badgeCount:t})})),y()(xe,H,(function(e){return E()(E()({},e),{},{messages:e.messages.map((function(e){return E()(E()({},e),{},{unread:!1})})),badgeCount:0})})),y()(xe,q,(function(e,n){var t=n.id;return E()(E()({},e),{},{messages:e.messages.map((function(e){return E()(E()({},e),{},{userFeedback:t===e.customId?re:e.userFeedback})}))})})),y()(xe,G,(function(e,n){var t=n.id;return E()(E()({},e),{},{messages:e.messages.map((function(e){return E()(E()({},e),{},{userFeedback:t===e.customId?oe:e.userFeedback})}))})})),y()(xe,W,(function(e,n){var t=n.id;return E()(E()({},e),{},{messages:e.messages.map((function(e){return E()(E()({},e),{},{userFeedback:t===e.customId?ce:e.userFeedback})}))})})),xe),Ce=C.b,je=Object(C.a)({behavior:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,n=arguments.length>1?arguments[1]:void 0;return createReducer(Y,e,n)},messages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,n=arguments.length>1?arguments[1]:void 0;return createReducer(Se,e,n)},input:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,n=arguments.length>1?arguments[1]:void 0;return createReducer(Q,e,n)}}),ye=Object(C.c)(je,Ce());function actions_toggleChat(){return{type:I}}function actions_toggleFullScreen(){return{type:A}}function addUserMessage(e,n,t){return{type:M,text:e,id:n,timestamp:t}}function setBadgeCount(e){return{type:R,count:e}}function markAllMessagesRead(){return{type:H}}function setUserInput(e){return{type:K,inputText:e}}function dispatcher_updateChatHistory(e){var n=function(e){return{type:D,messages:e}}(e);ye.dispatch(n)}function dispatcher_addResponseMessage(e){var n=e.text,t=e.id,a=e.clipRecommendations,i=e.userFeedback,r=e.timestamp,o=e.recommendedActions;ye.dispatch(function(e,n,t,a,i,r){return{type:L,text:e,id:n,clipRecommendations:t,userFeedback:a,timestamp:i,recommendedActions:r}}(n,t,a,i,r,o))}function dispatcher_toggleMsgLoader(){ye.dispatch({type:F})}function dispatcher_dropMessages(){ye.dispatch({type:U})}var Ne,Ee,Ie=n("TSYQ"),_e=n.n(Ie),Ae=n("Z3v1"),Te=n("cVIm"),Fe=n("kgYC"),Re=n("8Hdl");var De,components_Footer=function(){var e=Object(Fe.a)();return Object(c.d)(Re.a,{variant:"body2",color:"supportText",css:Object(c.c)(Ne||(Ne=o()(["\n        margin: 4px 20px 13px 20px;\n      "])))},Object(c.d)(Ae.FormattedMessage,{message:te()("Coach is limited to course-related questions and powered by AI, so surprises and mistakes are possible. {privacyNotice}."),privacyNotice:Object(c.d)("a",{href:"".concat(Te.a.url.base,"about/privacy?trk_ref=coach"),target:"_blank",rel:"noreferrer","aria-label":te()("Privacy Notice"),css:Object(c.c)(Ee||(Ee=o()(["\n              color: ",";\n              text-decoration: underline;\n            "])),e.palette.gray[700])},te()("View Coursera's Privacy Notice"))}))},Me=n("6/Gu"),Le=n("wC8J"),Be=n("ZJgU"),Pe=n("sBcU"),Ue=n("kyt0"),Ve={container:Object(c.c)({width:"25px",display:"inline-block",padding:"5px 0 0 0",margin:"0 6px 0 0"})},ChatSessionCreateIcon_ChatSessionCreateIcon=function(){return Object(c.d)("span",{css:Ve.container},De||(De=Object(c.d)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 23.64 21.67"},Object(c.d)("defs",null,Object(c.d)("style",null,".cls-1{fill:none;stroke:#fff;stroke-linecap:round;stroke-linejoin:round;}")),Object(c.d)("g",null,Object(c.d)("path",{className:"cls-1",d:"m.5,16.25V2.95C.5,1.6,1.6.5,2.95.5h17.74c1.36,0,2.45,1.1,2.45,2.45v10.84c0,1.36-1.1,2.45-2.45,2.45H4.44"}),Object(c.d)("polyline",{className:"cls-1",points:"4.44 16.25 .5 21.17 .5 16.25"})),Object(c.d)("g",null,Object(c.d)("line",{className:"cls-1",x1:"7.39",y1:"8.38",x2:"16.25",y2:"8.38"}),Object(c.d)("line",{className:"cls-1",x1:"11.82",y1:"3.95",x2:"11.82",y2:"12.81"})))))};ChatSessionCreateIcon_ChatSessionCreateIcon.displayName="NewChatIcon";var ze,He,qe,Ge,We,Ke,Je,Ye,$e,Xe,Qe=ChatSessionCreateIcon_ChatSessionCreateIcon,Ze=n("cAeq"),en=n("vUL0"),nn={headerButtons:Object(c.c)(ze||(ze=o()(["\n    justify-content: flex-end;\n  "]))),betaTag:Object(c.c)(He||(He=o()(["\n    margin-right: var(--cds-spacing-100);\n    display: flex;\n    align-items: center;\n  "])))};var tn,an,rn,on,cn,sn,dn,components_Header=function(e){var n=e.toggleChat,t=e.isFullScreen,a=e.toggleFullScreen,i=e.showCloseButton,r=e.showFullScreenButton,s=e.handleNewSession,d=Object(Fe.a)(),l=Object(p.b)();return Object(c.d)(Me.a,{container:!0,className:"rcw-header",justifyContent:"space-between",css:Object(c.c)(qe||(qe=o()(["\n        border-radius: 10px 10px 0 0;\n        padding: ",";\n        align-items: center;\n      "])),d.spacing(4))},Object(c.d)(Me.a,{item:!0,xs:7},Object(c.d)("div",{css:Object(c.c)(Ge||(Ge=o()(["\n            padding-top: 0;\n            "," {\n              padding-top: 4px;\n            }\n          "])),d.breakpoints.down("xs"))},Object(c.d)(en.a,{hexColorCode:"#ffffff",css:Object(c.c)(We||(We=o()(["\n              height: 16px;\n              width: 130px;\n              margin-bottom: 5px;\n            "])))}),Object(c.d)(Re.a,{variant:"h1semibold",color:"invertBody",css:Object(c.c)(Ke||(Ke=o()(["\n              font-weight: 300;\n              display: inline;\n            "])))},te()("coach")))),Object(c.d)(Me.a,{item:!0,xs:5},Object(c.d)(Me.a,{container:!0,alignItems:"center",justifyContent:"space-between",xs:12},Object(c.d)(Me.a,{container:!0,item:!0,css:nn.headerButtons},Object(c.d)(Me.a,{item:!0,css:nn.betaTag},Object(c.d)(Le.a,{variant:"status",priority:"primary",color:"highlight1"},te()("Beta"))),Object(c.d)(Me.a,{item:!0},!!s&&Object(c.d)(Ze.a,{message:te()("Start a new chat. This will clear your chat history so you can start fresh."),placement:"bottom"},Object(c.d)(Be.a,{onClick:function(){l({trackingData:{timestamp:Date.now()},trackingName:"ai_course_coach_chat_header_new_session_button",action:"click"}),s()},size:"small","data-testid":"rcw-new-chat",icon:Je||(Je=Object(c.d)(Qe,null)),iconPosition:"after",css:Object(c.c)(Ye||(Ye=o()(["\n                      height: 48px;\n                      width: 48px;\n                    "])))})),r&&Object(c.d)(Pe.a,{intent:t?"collapse":"expand",onClick:function(){l({trackingData:{timestamp:Date.now()},trackingName:"ai_course_coach_chat_header_full_screen_".concat(t?"collapse":"expand","_button"),action:"click"}),a()},size:"medium",tooltipPlacement:"bottom","aria-label":t?te()("Minimize coursera coach chat."):te()("Maximize coursera coach chat."),tooltip:t?te()("Minimize"):te()("Maximize"),"data-testid":t?te()("rcw-minimize"):te()("rcw-maximize")}),i&&Object(c.d)(Ze.a,{message:te()("Close chat."),placement:"bottom"},Object(c.d)(Be.a,{onClick:function(){l({trackingData:{timestamp:Date.now()},trackingName:"ai_course_coach_chat_header_close_button",action:"click"}),n()},size:"small",iconPosition:"after","data-testid":"rcw-close",icon:Object(c.d)("span",{css:Object(c.c)($e||($e=o()(["\n                          margin: 0 6px 0 0;\n                        "])))},Object(c.d)(Ue.a,{"aria-label":te()("Close")})),css:Object(c.c)(Xe||(Xe=o()(["\n                      height: 48px;\n                      width: 48px;\n                    "])))})))))))},ln=n("lPk7"),un=n("HDKb"),mn=n("5mFy"),pn=n("7Dw/"),gn=n("pVnL"),bn=n.n(gn),hn=n("wd/R"),fn=n.n(hn),vn=n("GXs9"),wn=n("JJfJ"),kn=n("fAYU");function generateConsumerVideoPageLink(e,n,t){return"/lecture/".concat(e,"/").concat(n,"-").concat(t)}var ClipRecommendations_Clip=function(e){var n=e.course,t=n.slug,a=n.name,i=e.duration,r=e.itemId,d=e.itemSlug,l=e.itemTitle,u=e.partners,m=e.previewImage,g=Object(Fe.a)(),b=Object(p.b)(),h={imgParams:{fit:"fill",auto:"format,compress",quality:"80"},maxWidth:"20px"};return Object(c.d)("div",{className:"rcw-citation-clip",css:Object(c.c)(tn||(tn=o()(["\n        display: flex;\n        margin: ",";\n      "])),g.spacing(4,0,16,0))},Object(c.d)("div",{css:Object(c.c)(an||(an=o()(["\n          width: 90px;\n          min-width: 90px;\n          max-width: 90px;\n          margin: ",";\n        "])),g.spacing(0,8))},Object(c.d)(vn.a,bn()({},{alt:"",imgParams:{fit:"fill",auto:"format,compress",quality:"80"},maxWidth:"90px"},{src:m,style:{border:"1px solid ".concat(g.palette.gray[300]),"border-radius":"4px"}}))),Object(c.d)("div",null,Object(c.d)("div",{css:Object(c.c)(rn||(rn=o()(["\n            display: flex;\n            flex-wrap: wrap;\n          "])))},u&&u.length>0&&Object(c.d)(s.Fragment,null,u[0].logo&&Object(c.d)("div",{css:Object(c.c)(on||(on=o()(["\n                    height: 22px;\n                    width: 22px;\n                    border: 1px solid ",";\n                    border-radius: 4px;\n                    margin: ",";\n                  "])),g.palette.gray[300],g.spacing(0,4,0,0))},Object(c.d)(vn.a,bn()({},h,{alt:te()("Logo for #{name}",{name:u[0].name}),src:u[0].logo,style:{"margin-bottom":"4px"}}))),u.length>1&&u[1].logo&&Object(c.d)("div",{css:Object(c.c)(cn||(cn=o()(["\n                    height: 22px;\n                    width: 22px;\n                    border: 1px solid ",";\n                    border-radius: 4px;\n                    margin: ",";\n                  "])),g.palette.gray[300],g.spacing(0,4,0,0))},Object(c.d)(vn.a,bn()({},h,{alt:te()("Logo for #{name}",{name:u[1].name}),src:u[1].logo,style:{"margin-bottom":"4px"}})))),Object(c.d)(Re.a,{component:"span",variant:"body2",color:"supportText"},u&&u.length>1?te()("#{partner1}, #{partner2}",{partner1:u[0].name,partner2:u[1].name}):u&&u[0].name)),Object(c.d)(Re.a,{variant:"h3semibold",css:Object(c.c)(sn||(sn=o()(["\n            margin: ",";\n          "])),g.spacing(4,0,4,0))},l),Object(c.d)(Re.a,{component:"span",variant:"body2",color:"supportText"},te()("From the course: ")),Object(c.d)(Re.a,{component:"span",variant:"body2",color:"supportText"},a),Object(c.d)(Re.a,{variant:"body2",color:"supportText",css:Object(c.c)(dn||(dn=o()(["\n            margin: ",";\n          "])),g.spacing(0,0,4,0))},Object(wn.x)(fn.a.duration(i))),Object(c.d)(kn.a,{href:generateConsumerVideoPageLink(t,d,r)+"?backenabled=1",variant:"quiet",typographyVariant:"body2",onClick:function(){b({trackingData:{course_slug:t,item_slug:d,item_id:r,timestamp:Date.now()},trackingName:"ai_course_coach_chat_clip_recommendation_clip_link",action:"click"})}},te()("Open video page"))))};var xn=p.a.withVisibilityTracking((function(e){var n=e.clips,t=Object(p.b)();return s.createElement(un.a,{variant:"silent",className:"rcw-ClipRecommendations",onChange:function(e,n){var a=n?"expand":"collapse";t({trackingData:{timestamp:Date.now()},trackingName:"ai_course_coach_chat_clip_recommendation_accordion_".concat(a),action:"click"})}},s.createElement(mn.a,{label:te()("Explore this topic with related video clips")}),s.createElement(pn.a,null,n.map((function(e){return s.createElement(ClipRecommendations_Clip,e)}))))})),CoachAvatar_CoachAvatar=function(e){var n=e.imageUrl;return Object(c.d)("img",{src:n,className:"rcw-avatar",alt:te()("Coach avatar")})};function isAlphaCharacters(e){var n,t,a;for(t=0,a=e.length;t<a;t++)if(!((n=e.charCodeAt(t))>64&&n<91||n>96&&n<123))return!1;return!0}function initialsFromName(e){var n=function extractFirstAndLastNames(e){var n=e.length-1,t=[];if(!e||e.length<1)return["-","-"];if(e[0]&&!isAlphaCharacters(e[0][0])&&e.shift(),e[n]&&!isAlphaCharacters(e[n])&&e.pop(),e.length-1!==n)return extractFirstAndLastNames(e);if(e[0]){var a=e[0];t.push(a)}if(0!==n&&e[n]){var i=e[n];t.push(i)}return t}(e.split(" ")),t=i()(n,2),a=t[0],r=t[1],o=a?a[0]:"",c=r?r[0]:"";return"".concat(o).concat(c)}var On={borderRadius:"50px",width:"40x",height:"40x",alignItems:"center",justifyContent:"center",display:"flex",overflow:"hidden",verticalAlign:"middle",backgroundColor:"#3BAFDA",color:"#ffffff"},LearnerAvatar_LearnerAvatar=function(e){var n=e.imageUrl,t=e.fullName,a=t&&initialsFromName(t)||"--",i=te()("Learner avatar");return n?Object(c.d)("img",{src:n,className:"rcw-avatar rcw-avatar-client",alt:i}):Object(c.d)(Re.a,{"aria-label":i,component:"span",variant:"h3bold",css:On,className:"rcw-avatar rcw-avatar-client"},Object(c.d)("span",{"aria-hidden":!0},a))},Sn="hh:mm A";var Cn,jn,yn,Nn,En,In,_n,components_Timestamp=function(e){var n=e.timestamp;return(s.createElement("span",{className:"rcw-timestamp"},Object(wn.w)(n,Sn)))},An=n("DU3t"),Tn={container:function(e){return Object(c.c)(Cn||(Cn=o()(["\n      margin-bottom: ",";\n    "])),e.spacing(16))},button:function(e){return Object(c.c)(jn||(jn=o()(["\n      text-align: left;\n      justify-content: flex-start;\n      margin-top: ",";\n      padding: 6px ",";\n      max-width: 100%;\n    "])),e.spacing(8),e.spacing(16))}},HomeView_QuickMessage=function(e){var n=e.message,t=e.onClick;return Object(c.d)(Me.a,{container:!0,css:Tn.container},Object(c.d)(Me.a,{item:!0,xs:11},Object(c.d)(Be.a,{variant:"secondary",fullWidth:!1,size:"small",onClick:function(){return t(n)},css:Tn.button},n)))},Fn={heading:function(e){return Object(c.c)(yn||(yn=o()(["\n      margin: ",";\n    "])),e.spacing(0,0,32,0))},icon:function(){return Object(c.c)(Nn||(Nn=o()(["\n      margin: 0 auto;\n      width: 65px;\n    "])))}};var Rn,Dn,Mn,components_HomeView_HomeView=function(e){var n=e.title,t=e.subtitle,a=e.quickMessages,i=e.sendMessage,r=e.contentType,s=Object(p.b)(),d=Object(Fe.a)(),l=a||function(e){return[{message:te()("Can you explain this topic in simple terms?"),action:An.a.SimpleExplanation},{message:te()("Can you summarize this #{contentType} for me?",{contentType:e}),action:An.a.Summarize},{message:te()("Can you generate practice questions based on this #{contentType}?",{contentType:e}),action:An.a.PracticeQuestions}]}(r),u=n||te()("Ask me anything about what you're learning. I'm here to help!"),m=t||te()("To get started, type your question below or try one of these examples:");return Object(c.d)("div",{className:"rcw-home-view",css:Object(c.c)(En||(En=o()(["\n        padding: ",";\n      "])),d.spacing(0,24,24))},Object(c.d)("div",{css:Fn.heading},Object(c.d)("div",{css:Fn.icon},In||(In=Object(c.d)(CoachSmileIcon,{variant:"dark","aria-hidden":!0}))),Object(c.d)(Re.a,{variant:"h3semibold"},u),Object(c.d)(Re.a,{variant:"body1",css:Object(c.c)(_n||(_n=o()(["\n            margin: ",";\n          "])),d.spacing(12,0,24,0))},m)),l.map((function(e){var n=e.message,t=e.action,a=e.onClick;return Object(c.d)(HomeView_QuickMessage,{key:n,message:n,onClick:function(){i(n,t),null==a||a(),s({trackingData:{example_text:n,timestamp:Date.now(),contentType:r},trackingName:"ai_course_coach_chat_quick_example",action:"click"})}})})))},Ln=n("4gsa"),Bn=n("wD02"),Feedback_Dislike=function(e){var n=e.selected,t=e.onSelect,a=e.onDeselect;return(s.createElement("div",null,n?s.createElement(Ln.a,{color:"interactive",onClick:a,className:"rcw-feedback-icon"}):s.createElement(Bn.a,{color:"interactive",onClick:t,className:"rcw-feedback-icon"})))},Pn=n("QILm"),Un=n.n(Pn),Vn=n("7NTc"),zn=n("dhC9"),Hn=["title","placeholder","onSubmit","onClose","onCancel"],Feedback_FeedbackModal=function(e){var n,t=e.title,a=e.placeholder,r=e.onSubmit,d=e.onClose,l=e.onCancel,u=Un()(e,Hn),m=Vn.a.Content,p=Vn.a.Actions,g=s.useState(!0),b=i()(g,2),h=b[0],f=b[1],v=s.useRef(null);return Object(c.d)(Vn.a,bn()({"aria-describedby":"dialog-content",open:h,sticky:"actions",onClose:function(e){f(!1),d(e)}},u),Object(c.d)(m,{id:"dialog-content"},Object(c.d)(Me.a,{container:!0},Object(c.d)(Me.a,{item:!0,sm:12,xs:12},Object(c.d)(zn.a,{maxLength:255,placeholder:a,inputRef:v,multiline:!0,fullWidth:!0,label:t,renderLabel:function(){return n||(n=Object(c.d)(Re.a,{variant:"h1semibold"},t))}})))),Object(c.d)(p,{css:Object(c.c)(Rn||(Rn=o()(["\n          display: flex;\n        "])))},Object(c.d)(Be.a,{size:"medium",variant:"primary",onClick:function(e){var n;return function(e){f(!1),r(e)}(E()(E()({},e),{},{data:{userComments:null===(n=v.current)||void 0===n?void 0:n.value}}))},css:Object(c.c)(Dn||(Dn=o()(["\n            margin: 0 24px 0 0;\n          "])))},te()("Submit")),Object(c.d)(Be.a,{size:"medium",variant:"secondary",onClick:function(e){f(!1),l(e)}},te()("Cancel"))))},qn=n("8/sX"),Gn=n("LKFv"),Feedback_Like=function(e){var n=e.selected,t=e.onSelect,a=e.onDeselect;return(s.createElement("div",null,n?s.createElement(qn.a,{color:"interactive",onClick:a,className:"rcw-feedback-icon"}):s.createElement(Gn.a,{color:"interactive",onClick:t,className:"rcw-feedback-icon"})))},Wn=n("0/vS"),Kn=n.n(Wn),components_Feedback=function(e){var n=e.message,t=Object(u.b)(),a=Object(p.b)(),r=s.useState(void 0),o=i()(r,2),c=o[0],l=o[1],m=n.customId,handleTracking=function(e){a({trackingData:{message_id:m,coach_response:n.text,timestamp:Date.now()},trackingName:e,action:"click"})};if(n.text!==constants_getErrorMessageText()){var g="";return c===re?g=te()("What do you like about this response?"):c===oe&&(g=te()("How could this response be improved?")),s.createElement(s.Fragment,null,n.sender===ae.RESPONSE&&s.createElement(d.b,{mutation:Kn.a,context:{clientName:"gatewayGql"}},(function(e){var a={messageId:m,userComments:void 0},onDeselect=function(){handleTracking("ai_course_coach_chat_user_feedback_remove_selection"),t({type:W,id:m}),e({variables:{input:E()(E()({},a),{},{userFeedback:ce})}}),l(void 0)};return s.createElement("div",{className:"rcw-feedback-container"},c&&s.createElement(Feedback_FeedbackModal,{title:g,onSubmit:function(n){var t,i,r;null!==(t=n.data)&&void 0!==t&&t.userComments&&(i={userComments:n.data.userComments},r=i.userComments,e({variables:{input:E()(E()({},a),{},{userFeedback:c,userComments:r})}})),handleTracking("ai_course_coach_chat_user_feedback_feedback_form_submit")},onClose:function(){handleTracking("ai_course_coach_chat_user_feedback_feedback_form_close")},onCancel:function(){handleTracking("ai_course_coach_chat_user_feedback_feedback_form_cancel")}}),s.createElement(Feedback_Like,{selected:n.userFeedback===re,onSelect:function(){handleTracking("ai_course_coach_chat_user_feedback_like_select"),l(re),t({type:q,id:m}),e({variables:{input:E()(E()({},a),{},{userFeedback:re})}})},onDeselect:onDeselect}),s.createElement(Feedback_Dislike,{selected:n.userFeedback===oe,onSelect:function(){handleTracking("ai_course_coach_chat_user_feedback_dislike_select"),l(oe),t({type:G,id:m}),e({variables:{input:E()(E()({},a),{},{userFeedback:oe})}})},onDeselect:onDeselect}))})))}return null},Jn={loaderContainer:Object(c.c)({padding:"15px 15px 15px 88px",textAlign:"left"}),cursor:function(e){var n=e.color,t=void 0===n?"grey":n,a=Object(c.e)(Mn||(Mn=o()(["\n      0% {background: transparent}\n      50% {background: ","}}\n      100% {background: transparent}\n    "])),t);return Object(c.c)({animationName:a,animationIterationCount:"infinite",height:"1.3rem",width:"0.6rem",animationDuration:"1s",display:"inline-block"})}};var Yn,$n,Xn,Qn,Zn,et,nt,tt,at,components_Loader=function(e){var n=e.typing?Jn.cursor({color:"grey"}):Object(c.c)({});return Object(c.d)("div",null,Object(c.d)("div",{css:Jn.loaderContainer},Object(c.d)("span",{css:n})))},it={button:Object(c.c)(Yn||(Yn=o()(["\n    text-align: left;\n    font-weight: 500;\n    justify-content: flex-start;\n    margin-top: var(--cds-spacing-100);\n    padding: var(--cds-spacing-50) var(--cds-spacing-200);\n    max-width: 100%;\n  "])))},RecommendedActions_Action=function(e){var n=e.actionMessage,t=e.action,a=e.sendMessage;return Object(c.d)(Be.a,{variant:"secondary",size:"small",onClick:function(){a(n,t)},css:it.button},n)},rt={container:Object(c.c)($n||($n=o()(["\n    margin: var(--cds-spacing-200) 0 var(--cds-spacing-200);\n  "])))},components_RecommendedActions=function(e){var n=e.recommendedActions,t=e.sendMessage;return Object(c.d)(Me.a,{container:!0,css:rt.container},Object(c.d)(Re.a,null,te()("Would you like additional information? Here are some things we can do together:")),Object(c.d)(Me.a,{item:!0,xs:12},n.map((function(e){var n=e.action,a=e.actionMessage;return Object(c.d)(RecommendedActions_Action,{action:n,actionMessage:a,key:a,sendMessage:t})}))))},ot={messagesContainer:function(){return Object(c.c)(Xn||(Xn=o()(["\n    /* Hide scrollbar for Chrome, Safari and Opera */\n    ::-webkit-scrollbar {\n      display: none;\n    }\n\n    /* Hide scrollbar for IE, Edge and Firefox */\n    -ms-overflow-style: none; /* IE and Edge */\n    scrollbar-width: none; /* Firefox */\n  "])))}},components_Messages=function(e){var n,t=e.profileAvatar,a=e.profileClientAvatar,i=e.showTimeStamp,r=e.homeView,d=e.sendMessage,l=e.contentType,m=Object(Fe.a)(),p=Object(u.b)(),b=Object(u.c)((function(e){return{messages:e.messages.messages,badgeCount:e.messages.badgeCount,typing:e.behavior.messageLoader,showChat:e.behavior.showChat}})),h=b.messages,f=b.typing,v=b.showChat,w=b.badgeCount,k=Object(s.useRef)(null);Object(s.useEffect)((function(){null!=h&&h.length&&scrollToBottom(k.current),v&&w&&p(markAllMessagesRead())}),[p,w,v,h]),Object(s.useEffect)((function(){null!=h&&h.length&&scrollToBottom(k.current)}),[f,h]);var isClient=function(e){return e===ae.CLIENT},isCoachResponse=function(e){return e===ae.RESPONSE},x="string"!=typeof t?t:Object(c.d)(CoachAvatar_CoachAvatar,{imageUrl:t});return Object(c.d)("div",{id:"messages",className:"rcw-messages-container",ref:k,css:ot.messagesContainer},!(null!=h&&h.length)&&Object(c.d)(components_HomeView_HomeView,{sendMessage:d,quickMessages:null==r?void 0:r.quickMessages,title:null==r?void 0:r.title,subtitle:null==r?void 0:r.subtitle,contentType:l}),null==h?void 0:h.map((function(e,t){var r,l=e.timestamp,u=e.sender,p=e.clipRecommendations,b=e.recommendedActions;return Object(c.d)("div",{className:"rcw-message ".concat(isClient(u)?"rcw-message-client":""),key:"".concat(t,"-").concat(l.valueOf())},isClient(u)?Object(c.d)(LearnerAvatar_LearnerAvatar,{imageUrl:a,fullName:null===(r=g.a.get())||void 0===r?void 0:r.fullName}):n||(n=Object(c.d)("div",{className:"rcw-avatar rcw-avatar-client"},x)),Object(c.d)("div",{css:Object(c.c)(Qn||(Qn=o()(["\n                overflow: auto;\n              "])))},function(e){var n=e.component;return"component"===e.type?Object(c.d)(n,e.props):Object(c.d)(n,{message:e})}(e),isCoachResponse(u)&&null!=p&&p.length?Object(c.d)(s.Fragment,null,Object(c.d)(ln.a,{color:"dark",css:Object(c.c)(Zn||(Zn=o()(["\n                      margin: ",";\n                    "])),m.spacing(8,0))}),Object(c.d)(xn,{clips:p,trackingName:"ai_course_coach_clips_recommendation"})):null,isCoachResponse(u)&&null!=b&&b.length?Object(c.d)(components_RecommendedActions,{recommendedActions:b,sendMessage:d}):null,Object(c.d)("div",{css:Object(c.c)(et||(et=o()(["\n                  display: flex;\n                "])))},i&&Object(c.d)(components_Timestamp,{timestamp:l}),Object(c.d)(components_Feedback,{message:e}))))})),Object(c.d)(components_Loader,{typing:f}))},ct=n("IoQW"),st=7,dt={textBox:function(e){return Object(c.c)(nt||(nt=o()(["\n    .cds-text-field-root {\n      margin-top: ",";\n    }\n\n    > label {\n      margin-bottom: 0;\n    }\n\n    /* Override CDS style to hide gray background of the Send button (non-standard use case) */\n    .cds-text-field-root .cds-inputAdornment-filled {\n      padding: 0;\n      background-color: white;\n    }\n  "])),e.spacing(8))},container:function(e){return Object(c.c)(tt||(tt=o()(["\n    border-top: 1px solid ",";\n    padding: 0 ",";\n  "])),e.palette.gray[300],e.spacing(12))}};function Sender(e){var n=e.sendMessage,t=e.placeholder,a=e.disabledInput,i=e.autofocus,r=e.buttonAlt,o=e.onTextInputChange,d=Object(u.c)((function(e){return e.behavior.showChat})),l=Object(u.c)((function(e){return e.input.inputText})),m=Object(s.useRef)(null),g=Object(s.useRef)(null),b=Object(p.b)();Object(s.useEffect)((function(){var e;d&&i&&(null===(e=m.current)||void 0===e||e.focus())}),[i,d]);var handleSendMessageClick=function(){n(l,An.a.TypedMessage),b({trackingData:{input_text:l,timestamp:Date.now()},trackingName:"ai_course_coach_chat_send_message",action:"click_send_message"}),ye.dispatch(setUserInput(""))},handlePaste=function(e){var n,t=null==e?void 0:null===(n=e.clipboardData)||void 0===n?void 0:n.getData("text/plain");t&&b({trackingData:{input_text:t,timestamp:Date.now()},trackingName:"ai_course_coach_chat_paste_message",action:"paste_message"})};Object(s.useEffect)((function(){var e=null;return m.current&&(e=m.current).addEventListener("paste",handlePaste),function(){e&&e.removeEventListener("paste",handlePaste)}}),[]);var h={onKeyPress:function(e){13!==e.charCode||e.shiftKey||(e.preventDefault(),handleSendMessageClick())}};return Object(c.d)("div",{ref:g,css:dt.container},Object(c.d)("div",{className:_e()("rcw-new-message",{"rcw-message-disable":a})},Object(c.d)(zn.a,{fullWidth:!0,multiline:!0,minRows:1,maxRows:st,label:"",type:"text",readOnly:a,ref:m,placeholder:t,onChange:function(e){var n=e.target.value;o&&o(n),function(e){ye.dispatch(setUserInput(e))}(n)},value:l,inputProps:h,css:dt.textBox,"data-testid":"rcw-send-message",suffix:Object(c.d)(Be.a,{variant:"ghost",onClick:handleSendMessageClick,disabled:a,"aria-label":r,"data-testid":"rcw-send-button"},at||(at=Object(c.d)(ct.a,{size:"large"})))})))}var lt,ut,mt,pt,gt,bt,ht,ft,vt,wt,kt,xt,Ot,St,Ct,jt,yt,Nt,Et=Object(s.forwardRef)(Sender),It=410,_t=663,At="100vh",Tt=90,Ft=20,Rt=Object(c.e)(lt||(lt=o()(["\n  100% {\n    height: 100%;\n    width: 100%;\n    right: 0;\n    bottom: 0;\n    max-width: 100vw;\n  }\n"]))),Dt=Object(c.e)(ut||(ut=o()(["\n  0% {\n    height: 100%;\n    width: 100%;\n    right: 0;\n    bottom: 0;\n    max-width: 100vw;\n  }\n  100% {\n    height: ","px;\n    width: ","px;\n    right: ",";\n    bottom: ",";\n    max-width: ","px;\n  }\n"])),_t,It,Ft,Tt,It),Mt={enterFullScreenAnimation:Rt,exitFullScreenAnimation:Dt,container:Object(c.c)(mt||(mt=o()(["\n    height: ","px;\n    width: ","px;\n    right: ",";\n    bottom: ",";\n    max-width: ","px;\n    max-height: ",";\n\n    @media screen and (max-width: 800px) {\n      width: 100vw !important;\n      max-width: 100vw !important;\n    }\n\n    @media screen and (max-width: 450px) {\n      height: 100vh !important;\n      top: 0 !important;\n      bottom: 0 !important;\n      right: 0 !important;\n      left: 0 !important;\n      position: fixed !important;\n    }\n\n    animation-fill-mode: both;\n\n    .rcw-messages-container {\n      max-height: 100%;\n      height: 100%;\n    }\n  "])),_t,It,Ft,Tt,It,At),exitFullScreen:Object(c.c)(pt||(pt=o()(["\n    position: fixed !important;\n    right: 20px;\n    bottom: 90px;\n    z-index: 9999;\n    max-width: 100vw;\n\n    .rcw-messages-container {\n      max-width: 100% !important;\n      height: 100% !important;\n    }\n\n    background-color: white;\n    animation-property: bottom, right, min-width, min-height, max-width, max-height !important; /* stylelint-disable-line property-no-unknown */\n    animation-name: "," !important;\n    animation-delay: ","s;\n    animation-duration: ","s;\n    animation-fill-mode: backwards;\n  "])),Dt,.15,.3),fullScreen:Object(c.c)(gt||(gt=o()(["\n    position: fixed !important;\n    right: 20px;\n    bottom: 90px;\n    z-index: 9999;\n    max-width: 100vw;\n    background-color: white;\n    animation-fill-mode: forwards;\n    animation-property: bottom, right, min-width, min-height, max-width, max-height !important; /* stylelint-disable-line property-no-unknown */\n    animation-name: "," !important;\n    animation-delay: ","s;\n    animation-duration: ","s;\n\n    .rcw-messages-container {\n      max-height: 100%;\n      height: 100%;\n    }\n  "])),Rt,.15,.3)};var Lt={globalDesktop:Object(c.c)(bt||(bt=o()(["\n      .hide-smart-scroll-container,\n      .show-smart-scroll-container,\n      .SmartScrollWrapper {\n        z-index: -1 !important;\n      }\n    "]))),globalSmDown:function(e){return Object(c.c)(ht||(ht=o()(["\n    "," {\n      .show-smart-scroll-container {\n        z-index: -1 !important;\n      }\n    }\n  "])),e.breakpoints.down("sm"))},conversationContainerHeight:function(e){return Object(c.c)(ft||(ft=o()(["\n      ","\n    "])),!e&&Object(c.c)(vt||(vt=o()(["\n        max-height: 70vh;\n\n        @media screen and (max-width: 800px) {\n          max-height: 100vh;\n        }\n      "]))))},conversationContainer:Object(c.c)(wt||(wt=o()(["\n    width: 100%;\n    height: 100%;\n    display: flex;\n    flex-flow: column;\n  "]))),conversationContainerCenterFullScreen:Object(c.c)(kt||(kt=o()(["\n    @media screen and (min-width: 800px) {\n      width: 770px;\n      margin: 0 auto;\n    }\n  "]))),headerContainer:Object(c.c)(xt||(xt=o()(["\n    flex-grow: 0;\n  "]))),messageContainer:Object(c.c)(Ot||(Ot=o()(["\n    flex-grow: 1;\n    overflow-y: auto;\n    overflow-x: hidden;\n    justify-content: center;\n    max-width: 100%;\n    position: relative;\n  "]))),messageContainerConversationHistory:Object(c.c)(St||(St=o()(["\n    /* stylelint-disable-line no-empty-source */\n  "]))),messageContainerResponses:Object(c.c)(Ct||(Ct=o()(["\n    height: 100%;\n    width: 100%;\n    max-width: 770px;\n    margin: 0 auto;\n  "]))),senderContainer:Object(c.c)(jt||(jt=o()(["\n    flex-grow: 0;\n    width: 100%;\n    max-width: 770px;\n    margin: 0 auto;\n  "]))),footerContainer:Object(c.c)(yt||(yt=o()(["\n    flex-grow: 0;\n    max-width: 770px;\n    margin: 0 auto;\n  "])))};var components_Conversation=function(e){var n=e.senderPlaceHolder,t=e.showCloseButton,a=e.showFullScreenButton,r=e.isFullScreen,o=e.disabledInput,d=e.autofocus,l=e.className,u=e.sendMessage,m=e.toggleChat,p=e.toggleFullScreen,g=e.profileAvatar,b=e.profileClientAvatar,h=e.onTextInputChange,f=e.sendButtonAlt,v=e.showTimeStamp,w=e.handleNewSession,k=e.homeView,x=e.contentType,O=function(e){var n=e.isFullScreen,t=Object(s.useState)([Mt.container]),a=i()(t,2),r=a[0],o=a[1];return{toggleFullScreenAnimation:function(){var e=n?[Mt.container,Mt.exitFullScreen]:[Mt.container,Mt.fullScreen];o(e)},fullScreenCSS:r}}({isFullScreen:r}),S=O.fullScreenCSS,C=O.toggleFullScreenAnimation;return Object(c.d)("div",{id:"rcw-conversation-container",className:_e()("rcw-conversation-container",l),"aria-live":"polite",css:[S,Lt.conversationContainerHeight(r)]},Object(c.d)(c.b,{styles:r?Lt.globalDesktop:Lt.globalSmDown}),Object(c.d)("div",{css:Lt.conversationContainer},Object(c.d)("div",{css:Lt.headerContainer},Object(c.d)(components_Header,{toggleChat:m,showCloseButton:t,showFullScreenButton:a,toggleFullScreen:function(){C(),p()},isFullScreen:r,handleNewSession:w})),Object(c.d)("div",{css:[r&&Lt.conversationContainerCenterFullScreen,Lt.messageContainer]},Object(c.d)("div",{css:Lt.messageContainerResponses},Object(c.d)(components_Messages,{profileAvatar:g,profileClientAvatar:b,showTimeStamp:v,homeView:k,sendMessage:u,contentType:x}))),Object(c.d)("div",{css:[r&&Lt.conversationContainerCenterFullScreen,Lt.senderContainer]},Object(c.d)(Et,{sendMessage:u,placeholder:n,disabledInput:o,autofocus:d,onTextInputChange:h,buttonAlt:f})),Object(c.d)("div",{css:[r&&Lt.conversationContainerCenterFullScreen,Lt.footerContainer]},Nt||(Nt=Object(c.d)(components_Footer,null)))))};var components_Badge=function(e){var n=e.badge;return n>0?s.createElement("span",{className:"rcw-badge"},n):null};var Bt,Pt,Ut,Vt,zt,components_Launcher=function(e){var n=e.toggle,t=e.chatId,a=e.openLabel,i=e.closeLabel,r=e.showBadge,o=Object(u.b)(),c=Object(u.c)((function(e){return{showChat:e.behavior.showChat,badgeCount:e.messages.badgeCount}})),d=c.showChat,l=c.badgeCount,m=Object(p.b)();return s.createElement("button",{type:"button",className:_e()("rcw-launcher",{"rcw-hide-sm":d}),onClick:function(){m({trackingData:{badge_count:l,timestamp:Date.now()},trackingName:"ai_course_coach_chat_toggle",action:"click_".concat(d?"close":"open")}),n(),d||o(setBadgeCount(0))},"aria-controls":t},!d&&r&&s.createElement(components_Badge,{badge:l}),d?s.createElement(Ue.a,{size:"large",color:"invert",className:"rcw-close-launcher","aria-label":i}):s.createElement(CoachSmileIcon,{variant:"light","aria-label":a}))};var components_NewFeatureTooltip=function(e){var n=e.onDismiss,t=Object(Fe.a)();return Object(c.d)(Ze.b,{placement:"top",id:"tooltip-introduce-coach",css:Object(c.c)(Bt||(Bt=o()(["\n        background-color: ",";\n        max-width: 400px;\n        width: 400px;\n        bottom: 75px;\n        right: 0;\n        padding: ",";\n        "," {\n          bottom: 95px;\n          right: 12px;\n        }\n        "," {\n          width: 300px;\n        }\n      "])),t.palette.blue[600],t.spacing(4,16,12,16),t.breakpoints.down("sm"),t.breakpoints.down("xs")),arrowCss:Object(c.c)(Pt||(Pt=o()(["\n        left: unset;\n        right: 24px;\n        border-top-color: ",";\n        "," {\n          right: 30px;\n        }\n      "])),t.palette.blue[600],t.breakpoints.down("sm"))},Object(c.d)("div",{css:Object(c.c)(Ut||(Ut=o()(["\n          text-align: left;\n        "])))},Object(c.d)(Me.a,{container:!0,justifyContent:"space-between",wrap:"nowrap"},Object(c.d)(Re.a,{variant:"h4bold",color:"invertBody",css:Object(c.c)(Vt||(Vt=o()(["\n              padding: ",";\n            "])),t.spacing(8,0,16,0))},te()("👋 Hi! I’m Coach, your Coursera learning assistant!")),Object(c.d)(Pe.a,{variant:"ghostInvert",intent:"close",size:"small",onClick:n})),Object(c.d)(Re.a,{color:"invertBody",variant:"body2",css:Object(c.c)(zt||(zt=o()(["\n            margin-bottom: ",";\n          "])),t.spacing(16))},te()("Need extra explanations, examples, or practice? I’m here to answer questions and boost your learning!")),Object(c.d)(Re.a,{color:"invertBody",variant:"body2"},te()("Have any questions so far? Click here to get started!"))))},Ht=n("IWWe"),qt="coursera_coach_tooltip_dont_show";var layout=function(e){var n=e.onSendMessage,t=e.onToggleConversation,a=e.onToggleFullScreen,r=e.senderPlaceHolder,o=e.profileAvatar,d=e.profileClientAvatar,l=e.showCloseButton,m=e.showFullScreenButton,p=e.autofocus,g=e.customLauncher,b=e.onTextInputChange,h=e.chatId,f=e.launcherOpenLabel,v=e.launcherCloseLabel,w=e.launcherCloseImg,k=e.launcherOpenImg,x=e.sendButtonAlt,O=e.showTimeStamp,S=e.showBadge,C=e.handleNewSession,j=e.homeView,y=e.contentType,N=Object(u.c)((function(e){return{showChat:e.behavior.showChat,isFullScreen:e.behavior.isFullScreen,dissableInput:e.behavior.disabledInput}})),E=N.dissableInput,I=N.showChat,A=N.isFullScreen,T=Object(s.useRef)(null),F=Object(s.useState)(Ht.a.getItem(qt,(function(e){return"1"===e}),!1)),R=i()(F,2),D=R[0],M=R[1],dontShowTooltipSaveToLocalStorage=function(){M(!0),Ht.a.setItem(qt,!0,(function(e){return e?"1":"0"}))};return Object(s.useEffect)((function(){return I&&(T.current=document.getElementById("messages")),function(){T.current=null}}),[I]),Object(c.d)("div",{className:_e()("rcw-widget-container",{"rcw-close-widget-container ":!I})},!I&&!D&&Object(c.d)(components_NewFeatureTooltip,{onDismiss:dontShowTooltipSaveToLocalStorage}),I&&Object(c.d)(components_Conversation,{sendMessage:n,senderPlaceHolder:r,profileAvatar:o,profileClientAvatar:d,toggleChat:t,showCloseButton:l,showFullScreenButton:m,isFullScreen:A,disabledInput:E,autofocus:p,className:I?"active":"hidden",onTextInputChange:b,sendButtonAlt:x,showTimeStamp:O,toggleFullScreen:a,handleNewSession:C,homeView:j,contentType:y}),g?g(t):Object(c.d)(components_Launcher,{toggle:function(){D||dontShowTooltipSaveToLocalStorage(),t()},chatId:h,openLabel:f,closeLabel:v,closeImg:w,openImg:k,showBadge:S}))};var components_ChatWidget=function(e){var n=e.handleNewSession,t=e.senderPlaceHolder,a=e.profileAvatar,i=e.profileClientAvatar,r=e.showCloseButton,o=e.showFullScreenButton,c=e.autofocus,d=e.customLauncher,l=e.handleNewUserMessage,m=e.handleTextInputChange,p=e.chatId,g=e.handleToggle,b=e.handleFullScreenToggle,h=e.launcherOpenLabel,f=e.launcherCloseLabel,v=e.launcherCloseImg,w=e.launcherOpenImg,k=e.sendButtonAlt,x=e.showTimeStamp,O=e.handleSubmit,S=e.showBadge,C=e.homeView,j=e.contentType,y=Object(u.b)(),N=Object(u.c)((function(e){return{showChat:e.behavior.showChat,isFullScreen:e.behavior.isFullScreen,dissableInput:e.behavior.disabledInput}})),E=N.showChat,I=N.isFullScreen;return s.createElement(layout,{onToggleConversation:function(){y(actions_toggleChat()),null==g||g(E)},onToggleFullScreen:function(){y(actions_toggleFullScreen()),null==b||b(I)},onSendMessage:function(e,n){e.trim()&&(null==O||O(e),y(addUserMessage(e)),l(e,n))},senderPlaceHolder:t,profileAvatar:a,profileClientAvatar:i,showCloseButton:r,showFullScreenButton:o,handleNewSession:n,autofocus:c,customLauncher:d,onTextInputChange:m,chatId:p,launcherOpenLabel:h,launcherCloseLabel:f,launcherCloseImg:v,launcherOpenImg:w,sendButtonAlt:k,showTimeStamp:x,showBadge:S,homeView:C,contentType:j})};function ConnectedWidget(e){var n=e.senderPlaceHolder,t=e.showFullScreenButton,a=e.autofocus,i=e.profileAvatar,r=e.profileClientAvatar,o=e.launcher,c=e.handleNewUserMessage,d=e.handleTextInputChange,l=e.chatId,u=e.handleToggle,m=e.launcherOpenLabel,p=e.launcherCloseLabel,g=e.launcherCloseImg,b=e.launcherOpenImg,h=e.sendButtonAlt,f=e.showTimeStamp,v=e.handleSubmit,w=e.showBadge,k=e.showCloseButton,x=e.handleNewSession,O=e.homeView,S=e.contentType;return(s.createElement(components_ChatWidget,{handleNewUserMessage:c,senderPlaceHolder:n,profileAvatar:i,profileClientAvatar:r,showCloseButton:k,showFullScreenButton:t,autofocus:a,customLauncher:o,handleTextInputChange:d,chatId:l,handleToggle:u,launcherOpenLabel:m,launcherCloseLabel:p,launcherCloseImg:g,launcherOpenImg:b,sendButtonAlt:h,showTimeStamp:f,handleSubmit:v,showBadge:w,handleNewSession:x,homeView:O,contentType:S}))}ConnectedWidget.defaultProps={senderPlaceHolder:"Type a message...",showCloseButton:!0,showFullScreenButton:!0,autofocus:!0,chatId:"rcw-chat-container",launcherOpenLabel:"Open chat",launcherCloseLabel:"Close chat",launcherOpenImg:"",launcherCloseImg:"",sendButtonAlt:"Send",showTimeStamp:!0,zoomStep:80,showBadge:!0};var Gt,Wt=ConnectedWidget,Kt=Object(c.c)(Gt||(Gt=o()(["\n  .rcw-message {\n    margin: 10px;\n    display: flex;\n    white-space: pre-wrap;\n    word-wrap: break-word;\n    position: relative;\n  }\n\n  .rcw-message .rcw-response.rcw-message-text li {\n    white-space: normal;\n  }\n\n  .rcw-message .rcw-response.rcw-message-text li ul {\n    white-space: pre-wrap;\n  }\n\n  .rcw-timestamp {\n    font-size: 10px;\n    margin-top: 5px;\n  }\n\n  .rcw-client {\n    display: flex;\n    flex-direction: column;\n    margin-left: auto;\n  }\n\n  .rcw-response {\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n  }\n\n  .rcw-message-text p {\n    margin: 0;\n  }\n\n  .rcw-message-text img {\n    width: 100%;\n    -o-object-fit: contain;\n    object-fit: contain;\n  }\n\n  .rcw-avatar {\n    width: 40px;\n    height: 40px;\n    border-radius: 100%;\n    margin-right: 10px;\n  }\n\n  .rcw-avatar-client {\n    margin: 0 0 0 10px;\n  }\n\n  .rcw-snippet {\n    border-radius: 10px;\n    max-width: 215px;\n    padding: 15px;\n    text-align: left;\n  }\n\n  .rcw-snippet-title {\n    margin: 0;\n  }\n\n  .rcw-snippet-details {\n    border-left: 2px solid #35e65d;\n    margin-top: 5px;\n    padding-left: 10px;\n  }\n\n  .rcw-link {\n    font-size: 12px;\n  }\n\n  .quick-button {\n    background: none;\n    border-radius: 15px;\n    border: 2px solid #35cce6;\n    font-weight: 700;\n    padding: 5px 10px;\n    cursor: pointer;\n    outline: 0;\n  }\n\n  .quick-button:active {\n    background: #35cce6;\n    color: #fff;\n  }\n\n  .loader {\n    margin: 10px;\n    display: none;\n  }\n\n  .loader.active {\n    display: flex;\n  }\n\n  .rcw-messages-container {\n    height: 50vh;\n    max-height: 410px;\n    overflow-y: scroll;\n    -webkit-overflow-scrolling: touch;\n  }\n\n  .rcw-full-screen .rcw-messages-container {\n    height: 100%;\n    max-height: none;\n  }\n\n  @media screen and (max-width: 800px) {\n    .rcw-messages-container {\n      height: 100%;\n      max-height: none;\n    }\n  }\n\n  .rcw-sender {\n    align-items: flex-end;\n    background-color: #f4f7f9;\n    display: flex;\n    overflow: hidden;\n    padding: 10px;\n    position: relative;\n  }\n\n  .rcw-sender.expand {\n    height: 120px;\n  }\n\n  .rcw-new-message {\n    border: 0;\n    border-radius: 5px;\n    width: calc(100% - 75px);\n  }\n\n  .rcw-picker-btn,\n  .rcw-send {\n    background: #f4f7f9;\n    border: 0;\n    cursor: pointer;\n  }\n\n  .rcw-picker-btn .rcw-send-icon,\n  .rcw-send .rcw-send-icon {\n    height: 25px;\n  }\n\n  .rcw-message-disable {\n    background-color: #f4f7f9;\n    cursor: not-allowed;\n  }\n\n  @media screen and (max-width: 800px) {\n    .rcw-sender {\n      border-radius: 0;\n      flex-shrink: 0;\n    }\n  }\n\n  .quick-buttons-container {\n    background: #fff;\n    overflow-x: auto;\n    white-space: nowrap;\n    padding: 10px;\n  }\n\n  .quick-buttons-container .quick-buttons {\n    list-style: none;\n    padding: 0;\n    margin: 0;\n    text-align: center;\n  }\n\n  .quick-buttons-container .quick-buttons .quick-list-button {\n    display: inline-block;\n    margin-right: 10px;\n  }\n\n  @media screen and (max-width: 800px) {\n    .quick-buttons-container {\n      padding-bottom: 15px;\n    }\n  }\n\n  .rcw-conversation-container {\n    border-radius: 10px;\n    box-shadow: 0 2px 10px 1px #b5b5b5;\n    min-width: 320px;\n    max-width: 90vw;\n    position: relative;\n    background-color: #fff;\n  }\n\n  .rcw-conversation-container.active {\n    opacity: 1;\n    transform: translateY(0);\n    transition: opacity 0.3s ease, transform 0.3s ease;\n  }\n\n  .rcw-conversation-container.hidden {\n    z-index: -1;\n    pointer-events: none;\n    opacity: 0;\n    transform: translateY(10px);\n    transition: opacity 0.3s ease, transform 0.3s ease;\n  }\n\n  .rcw-conversation-resizer {\n    cursor: col-resize;\n    height: 100%;\n    left: 0;\n    position: absolute;\n    top: 0;\n    width: 5px;\n  }\n\n  .emoji-mart-preview {\n    display: none;\n  }\n\n  .rcw-full-screen .rcw-conversation-container {\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n  }\n\n  @media screen and (max-width: 800px) {\n    .rcw-conversation-container {\n      display: flex;\n      flex-direction: column;\n      height: 100%;\n    }\n  }\n\n  .rcw-launcher .rcw-badge {\n    position: fixed;\n    top: -10px;\n    right: -5px;\n    background-color: red;\n    color: #fff;\n    width: 25px;\n    height: 25px;\n    text-align: center;\n    line-height: 25px;\n    border-radius: 50%;\n  }\n\n  .rcw-launcher {\n    -webkit-animation-delay: 0;\n    -webkit-animation-duration: 0.5s;\n    -webkit-animation-name: slide-in;\n    -webkit-animation-fill-mode: forwards;\n    -moz-animation-delay: 0;\n    -moz-animation-duration: 0.5s;\n    -moz-animation-name: slide-in;\n    -moz-animation-fill-mode: forwards;\n    animation-delay: 0;\n    animation-duration: 0.5s;\n    animation-name: slide-in;\n    animation-fill-mode: forwards;\n    align-self: flex-end;\n    border: 0;\n    border-radius: 50%;\n    box-shadow: 0 2px 10px 1px #b5b5b5;\n    height: 60px;\n    margin-top: 10px;\n    cursor: pointer;\n    width: 60px;\n  }\n\n  .rcw-launcher:focus {\n    outline: none;\n  }\n\n  .rcw-open-launcher {\n    -webkit-animation-delay: 0;\n    -webkit-animation-duration: 0.5s;\n    -webkit-animation-name: rotation-rl;\n    -webkit-animation-fill-mode: forwards;\n    -moz-animation-delay: 0;\n    -moz-animation-duration: 0.5s;\n    -moz-animation-name: rotation-rl;\n    -moz-animation-fill-mode: forwards;\n    animation-delay: 0;\n    animation-duration: 0.5s;\n    animation-name: rotation-rl;\n    animation-fill-mode: forwards;\n  }\n\n  .rcw-close-launcher {\n    width: 20px;\n    -webkit-animation-delay: 0;\n    -webkit-animation-duration: 0.5s;\n    -webkit-animation-name: rotation-lr;\n    -webkit-animation-fill-mode: forwards;\n    -moz-animation-delay: 0;\n    -moz-animation-duration: 0.5s;\n    -moz-animation-name: rotation-lr;\n    -moz-animation-fill-mode: forwards;\n    animation-delay: 0;\n    animation-duration: 0.5s;\n    animation-name: rotation-lr;\n    animation-fill-mode: forwards;\n  }\n\n  @media screen and (max-width: 800px) {\n    .rcw-launcher {\n      bottom: 0;\n      margin: 20px;\n      position: fixed;\n      right: 0;\n    }\n\n    .rcw-hide-sm {\n      display: none;\n    }\n  }\n\n  .rcw-previewer-container {\n    width: 100vw;\n    height: 100vh;\n    background: rgba(0, 0, 0, 0.75);\n    overflow: hidden;\n    position: fixed;\n    z-index: 9999;\n    left: 0;\n    top: 0;\n  }\n\n  .rcw-previewer-container .rcw-previewer-image {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    margin: auto;\n    transition: all 0.3s ease;\n  }\n\n  .rcw-previewer-container .rcw-previewer-tools {\n    position: fixed;\n    right: 16px;\n    bottom: 16px;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n  }\n\n  .rcw-previewer-container .rcw-previewer-button {\n    padding: 0;\n    margin: 16px;\n    box-shadow: 0 3px 8px 0 rgba(0, 0, 0, 0.3);\n    border-radius: 50%;\n    width: 32px;\n    height: 32px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    outline: none;\n    background-color: #fff;\n    border: none;\n  }\n\n  .rcw-previewer-container .rcw-previewer-close-button {\n    position: absolute;\n    right: 0;\n    top: 0;\n  }\n\n  .rcw-previewer-container .rcw-previewer-veil {\n    width: 100%;\n    height: 100%;\n    overflow: scroll;\n    position: relative;\n  }\n\n  @keyframes rotation-lr {\n    0% {\n      transform: rotate(-90deg);\n    }\n\n    100% {\n      transform: rotate(0);\n    }\n  }\n\n  @keyframes rotation-rl {\n    0% {\n      transform: rotate(90deg);\n    }\n\n    100% {\n      transform: rotate(0);\n    }\n  }\n\n  @keyframes slide-in {\n    0% {\n      opacity: 0;\n      transform: translateY(10px);\n    }\n\n    100% {\n      opacity: 1;\n      transform: translateY(0);\n    }\n  }\n\n  @keyframes slide-out {\n    0% {\n      opacity: 1;\n      transform: translateY(0);\n    }\n\n    100% {\n      opacity: 0;\n      transform: translateY(10px);\n    }\n  }\n\n  .rcw-widget-container {\n    bottom: 0;\n    display: flex;\n    flex-direction: column;\n    margin: 0 20px 20px 0;\n    position: fixed;\n    right: 0;\n    z-index: 9999;\n  }\n\n  .rcw-full-screen {\n    height: 100vh;\n    margin: 0;\n    max-width: none;\n    width: 100%;\n  }\n\n  @media screen and (max-width: 800px) {\n    .rcw-widget-container {\n      height: 100%;\n      height: 100vh;\n      margin: 0;\n      max-width: none;\n      width: 100%;\n    }\n  }\n\n  .rcw-previewer .rcw-message-img {\n    cursor: pointer;\n  }\n\n  .rcw-close-widget-container {\n    height: -webkit-max-content;\n    height: -moz-max-content;\n    height: max-content;\n    width: -webkit-max-content;\n    width: -moz-max-content;\n    width: max-content;\n  }\n\n  .rcw-feedback-icon {\n    cursor: pointer;\n  }\n\n  .rcw-feedback-container {\n    display: flex;\n    gap: 16px;\n    margin-left: auto;\n    margin-right: 0;\n    padding-top: 4px;\n  }\n"]))),Jt=n("b+Bk"),Yt=n.n(Jt),$t=n("Y74u"),Xt="Xpi8XRE5m7vf92d5iXCUPJdWQhw";function persistingCounter(e,n){var get=function(){return Ht.a.getItem(e,(function(e){var n=0;try{n=Number(e)}catch(e){n=0}return n}),n)},set=function(n){Ht.a.setItem(e,n,String)};return{get:get,set:set,increment:function(){var e=get()+1;return set(e),e}}}var Qt,Zt,ea=n("vDB9"),na={get:function(e){var n=ea.a.getItem(e,(function(e){return e}),"");return n&&"undefined"!==n?n:void 0},set:function(e,n){var t=n;ea.a.setItem(e,t,(function(e){return e}))},clear:function(e){ea.a.removeItem(e)}};n.d(e,"overrideStyles",(function(){return ChatComponent_overrideStyles})),n.d(e,"ChatWidget",(function(){return ChatComponent_ChatWidget})),n.d(e,"CONTENT_TYPES",(function(){return se}));var ChatComponent_overrideStyles=function(e){return Object(c.c)(Qt||(Qt=o()(["\n    .rcw-full-screen .rcw-close-button,\n    .rcw-conversation-container .rcw-header,\n    .rcw-conversation-container .rcw-close-button,\n    .rcw-launcher {\n      background-color: ",";\n    }\n\n    .rcw-conversation-container {\n      width: 540px;\n      z-index: 10;\n    }\n\n    .rcw-message {\n      margin: ",";\n      padding: ",";\n      display: flex;\n      gap: ",";\n    }\n\n    .rcw-message.rcw-message-client {\n      background-color: ",";\n      flex-direction: row;\n    }\n\n    .rcw-message.rcw-message-client .rcw-client {\n      display: block;\n      margin-left: ",";\n    }\n\n    .rcw-message .rcw-response {\n      display: block;\n    }\n\n    .rcw-client.rcw-message-text {\n      max-width: none;\n      padding: ",";\n    }\n\n    .rcw-response.rcw-message-text {\n      max-width: none;\n      padding: ",";\n    }\n\n    .rcw-message-text p {\n      ","\n      color: ",";\n    }\n\n    .rcw-avatar {\n      margin-right: ",";\n    }\n\n    .rcw-avatar-client {\n      margin-left: ",";\n      flex-shrink: 0;\n    }\n\n    .rcw-header {\n      color: ",";\n    }\n\n    .rcw-picker-btn {\n      display: none;\n    }\n\n    .rcw-new-message {\n      width: 100%;\n    }\n\n    .rcw-input {\n      height: 60px;\n    }\n  "])),e.palette.blue[600],e.spacing(0),e.spacing(12,24,12),e.spacing(24),e.palette.gray[100],e.spacing(0),e.spacing(0),e.spacing(0),e.typography.body1,e.palette.black[500],e.spacing(0),e.spacing(0),e.palette.white)};function handleError(e){var n;if(dispatcher_toggleMsgLoader(),dispatcher_addResponseMessage({text:constants_getErrorMessageText()}),e.graphQLErrors&&(null===(n=e.graphQLErrors)||void 0===n?void 0:n.length)>0){var t=e.graphQLErrors[0];m.captureMessage(JSON.stringify(t))}}var ChatComponent_ChatWidget=function(e){var n=e.itemId,t=e.courseId,a=e.recommendedActionsEnabled,r=void 0!==a&&a,o=e.clipRecommendationsEnabled,b=void 0!==o&&o,h=e.contentType,f=e.mode,w=e.cssOverrides,O=e.homeView,C=e.handleSubmit,j=function(e){var n=e.triggerMessageCount,t=e.triggerOpenCount,a=persistingCounter("coach-open-count-pendo",0),i=persistingCounter("coach-message-count-pendo",0),r=g.a.get(),o=r.external_id,c=r.is_staff,s=r.is_superuser;$t.b.init({visitor:{id:o,isStaff:c,isSuperuser:s}},$t.a);var isComplete=function(){return-1===a.get()&&-1===i.get()},d=function(){var e=k()(v()().mark((function _callee(){var e,r;return v()().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(!isComplete()){o.next=3;break}return o.abrupt("return");case 3:if(e=a.get(),r=i.get(),e>=t&&r>=n)try{$t.b.showGuideById(Xt),a.set(-1),i.set(-1)}catch(e){m.captureException(e)}case 6:case"end":return o.stop()}}),_callee)})));return function(){return e.apply(this,arguments)}}(),handleIncrement=function(e){return function(){!1===isComplete()&&e()}};return{messageIncrement:handleIncrement(i.increment),openIncrement:handleIncrement(a.increment),conditionalTriggerPendo:d}}({triggerMessageCount:3,triggerOpenCount:3}),y=na.get(le),N=s.useState(y),E=i()(N,2),I=E[0],A=E[1];!function(e){var n=e.chatSessionId,t=e.historyLimit,a=e.recommendedActionsEnabled,r=e.clipRecommendationsEnabled,o=Object(x.a)(),c=s.useState(!0),d=i()(c,2),l=d[0],u=d[1],p=s.useState(null),g=i()(p,2),b=g[0],h=g[1],f=!1,w=function(){var e=k()(v()().mark((function _callee(e){var n,i,c,s,d,l,p,g,b;return v()().wrap((function(v){for(;;)switch(v.prev=v.next){case 0:return v.prev=0,v.next=3,o.query({query:S.a,variables:{chatSessionId:e,limit:t,recommendedActionsEnabled:a,clipRecommendationsEnabled:r},context:{clientName:"gatewayGql"},fetchPolicy:"network-only"});case 3:s=v.sent,null!==(n=s.data)&&void 0!==n&&null!==(i=n.AiCoach)&&void 0!==i&&null!==(c=i.queryByChatSessionId)&&void 0!==c&&c.elements&&(g=null===(d=s.data)||void 0===d?void 0:null===(l=d.AiCoach)||void 0===l?void 0:null===(p=l.queryByChatSessionId)||void 0===p?void 0:p.elements,dispatcher_updateChatHistory(g.map((function(e){return e.senderType===ae.CLIENT?{id:e.id,sender:e.senderType,text:e.message,timestamp:e.createdAt}:e.senderType===ae.RESPONSE?{id:e.id,sender:e.senderType,text:e.message,timestamp:e.createdAt,clipRecommendations:e.clipRecommendations,userFeedback:e.userFeedback,recommendedActions:e.recommendedActions}:{id:e.id,sender:e.senderType,text:e.message,timestamp:e.createdAt}})).reverse()),f&&u(!1)),v.next=13;break;case 7:v.prev=7,v.t0=v.catch(0),f&&h(v.t0),f&&u(!1),b=v.t0,m.captureMessage("Error ConversationHistory: "+JSON.stringify(b));case 13:case"end":return v.stop()}}),_callee,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}();s.useEffect((function(){return n&&w(n),f=!0,function(){f=!1}}),[n])}({chatSessionId:I,historyLimit:5,clipRecommendationsEnabled:b,recommendedActionsEnabled:r});var T=Object(p.b)();function handleNewSession(){na.clear(le),A(void 0),dispatcher_dropMessages()}return Object(s.useEffect)((function(){var e;T({trackingData:{timestamp:Date.now()},trackingName:"ai-course-coach-widget",action:"visible"}),(e=Ht.a.getItem("ccfi",(function(e){return"1"!==e}),!0))&&Ht.a.setItem("ccfi","1",(function(e){return e})),e&&ye.dispatch(actions_toggleChat())}),[T]),Object(l.createPortal)(Object(c.d)("div",{"data-testid":"coursera-coach-widget",css:[Kt,w,ChatComponent_overrideStyles]},Object(c.d)(u.a,{store:ye},Object(c.d)(d.b,{mutation:Yt.a,onCompleted:function(e){return function(e,n){dispatcher_toggleMsgLoader();var t=e.AiCoach_CreateUserMessageAndReturnResponse,a=t.chatSessionId,i=t.messageByAiCoach,r=t.clipRecommendations,o=t.recommendedActions;a&&na.set(le,a),i&&(n(a),dispatcher_addResponseMessage({text:i.message,id:i.messageId,clipRecommendations:r,recommendedActions:o}))}(e,A)},onError:handleError,context:{clientName:"gatewayGql"}},(function(e){return Object(c.d)("div",null,Object(c.d)(Wt,{showTimeStamp:!0,showCloseButton:!0,profileAvatar:Zt||(Zt=Object(c.d)(CoachSmileIcon,{variant:"dark"})),profileClientAvatar:g.a.get().photo_120,handleSubmit:C,handleNewSession:handleNewSession,handleNewUserMessage:function(a,i){var o,c;j.messageIncrement(),e({variables:{input:{userId:String(null===g.a||void 0===g.a?void 0:null===(o=g.a.get)||void 0===o?void 0:null===(c=o.call(g.a))||void 0===c?void 0:c.id),message:a,courseId:t,itemId:n,chatSessionId:I,mode:f,action:i},recommendedActionsEnabled:r,clipRecommendationsEnabled:b}}),setTimeout((function(){dispatcher_toggleMsgLoader()}),300)},handleToggle:function(e){e||(j.openIncrement(),j.conditionalTriggerPendo())},autofocus:!0,senderPlaceHolder:te()("Ask Coach a question"),showFullScreenButton:!0,homeView:O,contentType:h}))})))),document.body)},ta=p.a.withVisibilityTracking(ChatComponent_ChatWidget);ChatComponent_ChatWidget.displayName="ChatWidget";e.default=ta},Xb1k:function(module,exports,e){},"b+Bk":function(module,exports){var e={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AiCoach_CreateUserMessageAndReturnResponse"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AiCoach_CreateUserMessageAndReturnResponseInput"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"recommendedActionsEnabled"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},defaultValue:{kind:"BooleanValue",value:!1},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"clipRecommendationsEnabled"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},defaultValue:{kind:"BooleanValue",value:!1},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"AiCoach_CreateUserMessageAndReturnResponse"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"messageByAiCoach"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"senderType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"messageId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"chatSessionId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"recommendedActions"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"recommendedActionsEnabled"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"action"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actionMessage"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"clipRecommendations"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"clipRecommendationsEnabled"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"course"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"partners"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"abbreviatedName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"logo"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"itemTitle"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"itemSlug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"itemId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"previewImage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"duration"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:763}};e.loc.source={body:"mutation AiCoach_CreateUserMessageAndReturnResponse(\n  $input: AiCoach_CreateUserMessageAndReturnResponseInput!\n  $recommendedActionsEnabled: Boolean = false\n  $clipRecommendationsEnabled: Boolean = false\n) {\n  AiCoach_CreateUserMessageAndReturnResponse(input: $input) {\n    messageByAiCoach {\n      message\n      senderType\n      messageId\n    }\n    chatSessionId\n    recommendedActions @include(if: $recommendedActionsEnabled) {\n      action\n      actionMessage\n    }\n    clipRecommendations @include(if: $clipRecommendationsEnabled) {\n      course {\n        id\n        slug\n        name\n      }\n      partners {\n        abbreviatedName\n        name\n        logo\n      }\n      itemTitle\n      itemSlug\n      itemId\n      previewImage\n      duration\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function findOperation(e,n){for(var t=0;t<e.definitions.length;t++){var a=e.definitions[t];if(a.name&&a.name.value==n)return a}}e.definitions.forEach((function(e){if(e.name){var t=new Set;!function collectFragmentReferences(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){collectFragmentReferences(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){collectFragmentReferences(e,n)})),e.definitions&&e.definitions.forEach((function(e){collectFragmentReferences(e,n)}))}(e,t),n[e.name.value]=t}})),module.exports=e,module.exports.AiCoach_CreateUserMessageAndReturnResponse=function(e,t){var a={kind:e.kind,definitions:[findOperation(e,t)]};e.hasOwnProperty("loc")&&(a.loc=e.loc);var i=n[t]||new Set,r=new Set,o=new Set;for(i.forEach((function(e){o.add(e)}));o.size>0;){var c=o;o=new Set,c.forEach((function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(n){var t=findOperation(e,n);t&&a.definitions.push(t)})),a}(e,"AiCoach_CreateUserMessageAndReturnResponse")},j0VE:function(module,e,n){"use strict";var t,a=n("VbXa"),i=n.n(a),r=n("q1tI"),o=n("MnCE"),c=n("ZJgU"),s=n("KXbA"),d=n("G2Rf"),l=n("PamN"),u=n("9A5E"),m=n("NzvK"),p=n.n(m),g=function(e){function LabSandboxLauncherButton(){for(var n,t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return(n=e.call.apply(e,[this].concat(a))||this).handleClick=function(){var e=n.props.courseSlug,t=Object(l.c)(e);window.open(t,"_blank")},n}return i()(LabSandboxLauncherButton,e),LabSandboxLauncherButton.prototype.render=function(){var e=this.props,n=e.courseId,a=e.courseBranchId,i=e.itemId,o=e.ownsCourse,d=e.isFreeTrial;return Object(l.b)(n,a,i,o,d)?r.createElement("div",{className:"rc-LabSandboxLauncherButton"},r.createElement(c.a,{variant:"ghost",component:u.a,iconPosition:"before",trackingName:"lab_sandbox",href:"/learn/".concat(this.props.courseSlug,"/lab-sandbox"),target:"_blank",icon:t||(t=r.createElement(s.a,{size:"small"})),"aria-label":p()("open lab sandbox")},p()("Practice with Lab Sandbox"))):null},LabSandboxLauncherButton}(r.Component);e.a=Object(o.b)(d.a)(g)},kDtP:function(module,e,n){"use strict";var t=n("VbXa"),a=n.n(t),i=n("q1tI"),r=n("37kS"),o=n.n(r),c=(n("8PY9"),function(e){function LoadingIndicator(){return e.apply(this,arguments)||this}return a()(LoadingIndicator,e),LoadingIndicator.prototype.render=function(){return i.createElement("div",{className:"rc-LoadingIndicator"},o()("Loading"))},LoadingIndicator}(i.Component));e.a=c},xeAZ:function(module,exports){var e={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"AiCoach_ChatMessagesPaginatedResult"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"chatSessionId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"recommendedActionsEnabled"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},defaultValue:{kind:"BooleanValue",value:!1},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"clipRecommendationsEnabled"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},defaultValue:{kind:"BooleanValue",value:!1},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"AiCoach"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"queryByChatSessionId"},arguments:[{kind:"Argument",name:{kind:"Name",value:"chatSessionId"},value:{kind:"Variable",name:{kind:"Name",value:"chatSessionId"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pagination"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalElements"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cursor"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"elements"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userFeedback"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userComments"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"senderType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"itemId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"courseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"recommendedActions"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"recommendedActionsEnabled"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"actionMessage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"action"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"clipRecommendations"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"clipRecommendationsEnabled"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"course"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"partners"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"abbreviatedName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"logo"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"duration"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"itemId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"itemSlug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"itemTitle"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"previewImage"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:977}};e.loc.source={body:"query AiCoach_ChatMessagesPaginatedResult(\n  $chatSessionId: ID!\n  $limit: Int!\n  $recommendedActionsEnabled: Boolean = false\n  $clipRecommendationsEnabled: Boolean = false\n) {\n  AiCoach {\n    queryByChatSessionId(chatSessionId: $chatSessionId, limit: $limit) {\n      pagination {\n        totalElements\n        cursor\n      }\n      elements {\n        userFeedback\n        userComments\n        senderType\n        message\n        itemId\n        createdAt\n        courseId\n        id\n        recommendedActions @include(if: $recommendedActionsEnabled) {\n          actionMessage\n          action\n        }\n        clipRecommendations @include(if: $clipRecommendationsEnabled) {\n          course {\n            id\n            slug\n            name\n          }\n          partners {\n            abbreviatedName\n            name\n            logo\n          }\n          duration\n          itemId\n          itemSlug\n          itemTitle\n          previewImage\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function findOperation(e,n){for(var t=0;t<e.definitions.length;t++){var a=e.definitions[t];if(a.name&&a.name.value==n)return a}}e.definitions.forEach((function(e){if(e.name){var t=new Set;!function collectFragmentReferences(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){collectFragmentReferences(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){collectFragmentReferences(e,n)})),e.definitions&&e.definitions.forEach((function(e){collectFragmentReferences(e,n)}))}(e,t),n[e.name.value]=t}})),module.exports=e,module.exports.AiCoach_ChatMessagesPaginatedResult=function(e,t){var a={kind:e.kind,definitions:[findOperation(e,t)]};e.hasOwnProperty("loc")&&(a.loc=e.loc);var i=n[t]||new Set,r=new Set,o=new Set;for(i.forEach((function(e){o.add(e)}));o.size>0;){var c=o;o=new Set,c.forEach((function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(n){var t=findOperation(e,n);t&&a.definitions.push(t)})),a}(e,"AiCoach_ChatMessagesPaginatedResult")},zJiU:function(module,e,n){"use strict";n.d(e,"b",(function(){return isShowRecommendedActions})),n.d(e,"a",(function(){return isShowClipRecommendations}));var t=n("+rcu"),isShowRecommendedActions=function(){return t.a.get("showRecommendedActions")},isShowClipRecommendations=function(){return t.a.get("showClipRecomendations")}}}]);
//# sourceMappingURL=en.64.ba40dc7aa4a5889b1671.js.map