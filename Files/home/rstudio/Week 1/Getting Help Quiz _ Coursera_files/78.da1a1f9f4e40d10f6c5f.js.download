(window.webpackJsonp=window.webpackJsonp||[]).push([[78,80],{A9b0:function(module,e,t){"use strict";t.r(e);var n,i,o,s,a,r=t("VbXa"),u=t.n(r),d=t("AeFk"),c=t("q1tI"),l=t("MnCE"),m=t("+LJP"),p=t("sQ/U"),f=t("J/Mu"),b=t("RH4a"),v=t("4QSv"),g=t("oe9u"),S=t("/oRK"),I=t("22Sa"),y=t("rn7G"),h=t("zaiP"),O=t("wIYG"),D=t("kIii"),j=t("tcH/"),R=t("JEIr"),P=t("wjH1"),C=t("0n3a"),Q=t("agp5"),E=t("VkAN"),z=t.n(E),k=t("Gcrz"),q=t("UYTu"),w=t("BkRI"),B=t.n(w),x=t("3tO9"),A=t.n(x),T=t("O5zz"),M={contentRequestBody:{argument:[]}},N={contentRequestBody:[]},F=Object(q.a)(n||(n=z()(['\n  query practiceQuizSessionMetaDataQuery($itemId: String!, $userId: Int!, $slug: String!, $body: String!) {\n    practiceQuizSessionMetaData(body: $body, itemId: $itemId, userId: $userId, slug: $slug)\n      @rest(\n        type: "RestPracticeQuizSessionMetadata"\n        path: "opencourse.v1/user/{args.userId}/course/{args.slug}/item/{args.itemId}/quiz/session"\n        method: "POST"\n        bodyKey: "body"\n      ) {\n      contentResponseBody @type(name: "RestPracticeQuizSessionDataResponseBody")\n    }\n  }\n']))),L=Object(q.a)(i||(i=z()(['\n  query practiceQuizDataQuery(\n    $itemId: String!\n    $userId: Int!\n    $slug: String!\n    $sessionId: String!\n    $body: String!\n    $skipFetchingResponses: Boolean!\n  ) {\n    practiceQuizQuestionData(itemId: $itemId, userId: $userId, slug: $slug, sessionId: $sessionId, body: $body)\n      @rest(\n        type: "RestPracticeQuizQuestionGetStateData"\n        path: "opencourse.v1/user/{args.userId}/course/{args.slug}/item/{args.itemId}/quiz/session/{args.sessionId}/action/getState?autoEnroll=false"\n        method: "POST"\n        bodyKey: "body"\n      ) {\n      contentResponseBody @type(name: "RestPracticeQuizQuestionDataResponseBody") {\n        return @type(name: "RestContentResponseBodyReturnObject") {\n          parts\n          questions\n          nextSubmissionDraftId\n        }\n      }\n    }\n    practiceQuizQuestionResponses(itemId: $itemId, userId: $userId, slug: $slug, sessionId: $sessionId, body: $body)\n      @skip(if: $skipFetchingResponses)\n      @rest(\n        type: "RestPracticeQuizLatestSubmissionDraftResponse"\n        path: "opencourse.v1/user/{args.userId}/course/{args.slug}/item/{args.itemId}/quiz/session/{args.sessionId}/action/getLatestSubmissionDraft?autoEnroll=false"\n        method: "POST"\n        bodyKey: "body"\n      ) {\n      contentResponseBody @type(name: "RestPracticeQuizQuestionDataResponseBody") {\n        return @type(name: "RestContentResponseBodyReturnObject") {\n          draft\n        }\n      }\n    }\n  }\n']))),lib_PracticeQuizData=function(e){var t=e.slug,n=e.itemId,i=e.userId,o=e.fetchPolicy,s=void 0===o?"cache-first":o,a=e.examSessionId,r=e.children,u={slug:t,itemId:n,userId:i};return c.createElement(k.c,{query:F,variables:A()(A()({},u),{},{body:N}),fetchPolicy:s,skip:!!a},(function(e){var t=e.loading,n=e.data,i=e.refetch;if(t&&!a)return r({loading:t});var o=a||((((n||{}).practiceQuizSessionMetaData||{}).contentResponseBody||{}).session||{}).id;return(c.createElement(k.c,{query:L,variables:A()(A()({},u),{},{sessionId:o,body:M,skipFetchingResponses:!!a}),fetchPolicy:s},(function(e){var t,n,s,u,d=e.loading,c=e.data,l=e.refetch,m=e.client;if(d)return r({loading:d});var p=(null==c?void 0:null===(t=c.practiceQuizQuestionData)||void 0===t?void 0:null===(n=t.contentResponseBody)||void 0===n?void 0:n.return)||{},f=p.parts,b=p.questions,v=p.nextSubmissionDraftId,g=((null==c?void 0:c.practiceQuizQuestionResponses)||{}).contentResponseBody,S=((null==g?void 0:null===(s=g.return)||void 0===s?void 0:null===(u=s.draft)||void 0===u?void 0:u.input)||{}).responses,I=Object(T.a)({parts:f,questions:b,responses:S,examSessionId:a});return r(A()(A()({},I),{},{loading:d,practiceQuizFormData:I.quizFormData,sessionId:o,totalPoints:I.totalPoints,isSubmitted:I.isSubmitted,nextSubmissionDraftId:v,hasDraft:I.hasDraft,practiceQuizQuestions:I.quizQuestions,refetchPracticeQuizData:function(){return i().then((function(){return l()}))},client:m}))})))}))},lib_practiceQuizActionMutationUpdate=function(e){return function(t,n){var i=n.data,o=e.itemId,s=e.userId,a=e.slug,r=e.sessionId,u=(((i||{}).action||{}).contentResponseBody||{}).return||null,d=t.readQuery({query:L,variables:{itemId:o,userId:s,slug:a,sessionId:r,skipFetchingResponses:!1,body:M}}),c=((((d=B()(d))||{}).practiceQuizQuestionData||{}).contentResponseBody||{}).return||null;c&&(c.nextSubmissionDraftId=(u||{}).nextSubmissionDraftId||null,c.questions=(u||{}).questions||c.questions||null,c.parts=(u||{}).parts||c.parts||null,c.evaluation=(u||{}).evaluation||null,t.writeQuery({query:L,variables:{itemId:o,userId:s,slug:a,sessionId:r,skipFetchingResponses:!1,body:M},data:d}))}},U=Object(q.a)(o||(o=z()(['\n  mutation practiceQuizSaveSubmissionDraftActionMutation(\n    $itemId: String!\n    $userId: Int!\n    $slug: String!\n    $sessionId: String!\n    $body: String!\n    $additionalParams: String!\n  ) {\n    action(\n      itemId: $itemId\n      userId: $userId\n      slug: $slug\n      sessionId: $sessionId\n      body: $body\n      additionalParams: $additionalParams\n    )\n      @rest(\n        type: "PracticeQuizSaveSubmissionDraftData"\n        path: "opencourse.v1/user/{args.userId}/course/{args.slug}/item/{args.itemId}/quiz/session/{args.sessionId}/action/saveSubmissionDraft?autoEnroll=false{args.additionalParams}"\n        method: "POST"\n        bodyKey: "body"\n      ) {\n      contentResponseBody @type(name: "RestPracticeQuizQuestionDataResponseBody") {\n        return @type(name: "RestContentResponseBodyReturnObject") {\n          nextSubmissionDraftId\n          questions @skip(if: $skipQuestionsField)\n          parts @skip(if: $skipQuestionsField)\n          evaluation\n        }\n      }\n    }\n  }\n']))),G=Object(q.a)(s||(s=z()(['\n  mutation practiceQuizSubmitResponseActionMutation(\n    $itemId: String!\n    $userId: Int!\n    $slug: String!\n    $sessionId: String!\n    $body: String!\n  ) {\n    action(itemId: $itemId, userId: $userId, slug: $slug, sessionId: $sessionId, body: $body)\n      @rest(\n        type: "PracticeQuizSubmitResponseData"\n        path: "opencourse.v1/user/{args.userId}/course/{args.slug}/item/{args.itemId}/quiz/session/{args.sessionId}/action/submitResponses?autoEnroll=false"\n        method: "POST"\n        bodyKey: "body"\n      ) {\n      contentResponseBody @type(name: "RestPracticeQuizQuestionDataResponseBody") {\n        return @type(name: "RestContentResponseBodyReturnObject") {\n          nextSubmissionDraftId\n          evaluation\n          questions\n          parts\n        }\n      }\n    }\n  }\n']))),PracticeQuizMutations_SaveDraftMutation=function(e){var t=e||{},n=t.changedResponses,i=t.nextSubmissionDraftId,o=t.sessionId,s=t.userId,a=t.itemId,r=t.slug;return(c.createElement(k.b,{mutation:U,update:lib_practiceQuizActionMutationUpdate(e)},(function(t){var u={contentRequestBody:{argument:{id:i,input:{responses:n}}}};return e.children({saveDraft:function(){return t({variables:{body:u,sessionId:o,userId:s,itemId:a,slug:r,skipQuestionsField:!0,additionalParams:""}})},autoSaveDraft:function(){return t({variables:{body:u,sessionId:o,userId:s,itemId:a,slug:r,skipQuestionsField:!0,additionalParams:"&isAutoSaving=true"}})}})})))},PracticeQuizMutations_SubmitDraftMutation=function(e){var t=e||{},n=t.changedResponses,i=t.sessionId,o=t.userId,s=t.itemId,a=t.slug;return(c.createElement(k.b,{mutation:G,update:lib_practiceQuizActionMutationUpdate(e)},(function(t){var r={contentRequestBody:{argument:{responses:n}}};return e.children({submitDraft:function(){return t({variables:{body:r,sessionId:i,userId:o,itemId:s,slug:a}})}})})))},PracticeQuizMutations_PracticeQuizMutations=function(e){e.ids;var t=e.sessionId,n=e.itemId,i=(e.courseId,e.changedResponses),o=e.children,s=e.slug,a=e.userId,r=e.nextSubmissionDraftId;return(c.createElement(PracticeQuizMutations_SaveDraftMutation,{changedResponses:i,nextSubmissionDraftId:r,sessionId:t,userId:a,itemId:n,slug:s},(function(e){var r=e.saveDraft,u=e.autoSaveDraft;return(c.createElement(PracticeQuizMutations_SubmitDraftMutation,{changedResponses:i,sessionId:t,userId:a,itemId:n,slug:s},(function(e){var t=e.submitDraft;return o({saveDraft:r,autoSaveDraft:u,submitDraft:t})})))})))},lib_PracticeQuizActions=function(e){var t=e.ids,n=e.sessionId,i=e.children,o=e.nextSubmissionDraftId;return(c.createElement(h.a,null,(function(e){var s=e.item;if(!s)return null;var a=s.courseId,r=s.id,u=s.courseSlug;return(c.createElement(R.a,{userId:p.a.get().id,itemId:r,slug:u},(function(e){var d=e.refetch;return(c.createElement(Q.a,{ids:t},(function(e){return e&&d?c.createElement(b.a,{itemId:r,courseId:a},(function(l){var m=l.stepState,f=l.setStepState,b=e.map((function(e){return{questionInstance:e.id,response:((e.response||{}).definition||{}).value}}));return c.createElement(PracticeQuizMutations_PracticeQuizMutations,{ids:t,sessionId:n,itemId:r,courseId:a,slug:u,userId:p.a.get().id,changedResponses:b,nextSubmissionDraftId:o},(function(t){var n=t.saveDraft,a=t.submitDraft,saveDraft=function(){return m.isSaving||m.isSubmitting||!o?Promise.reject():(f({isSaving:!0}),n().then((function(){return f({isSaving:!1})})).catch((function(e){return Object(P.a)(e,f)})))},autoSaveDraft=function(){return m.isAutoSaving||m.isSubmitting||!o?Promise.reject():(f({isAutoSaving:!0}),n().then((function(){return f({isAutoSaving:!1})})).catch((function(e){return Object(P.a)(e,f)})))},refetchItemAndEvaluations=function(){return d().then((function(){return s.refetch()})).catch((function(e){return Object(P.a)(e,f)}))},submitDraft=function(){return m.isSubmitting?Promise.reject():(f({isSubmitting:!0}),a().then((function(){return f({isSubmitting:!1})})).then(refetchItemAndEvaluations).catch((function(e){return Object(P.a)(e,f)})))};return c.createElement(C.a,{stepState:m,saveDraft:autoSaveDraft,changedResponses:e},(function(){return i({saveDraft:saveDraft,autoSaveDraft:autoSaveDraft,submitDraft:submitDraft})}))}))})):i({})})))})))})))},J=t("w9Ch"),K=t("usGt"),Y=t("VtNW"),H=t.n(Y);t.d(e,"PracticeQuizAttemptPage",(function(){return V})),t.d(e,"withRedirectToCover",(function(){return X}));var V=function(e){function PracticeQuizAttemptPage(){return e.apply(this,arguments)||this}u()(PracticeQuizAttemptPage,e);var t=PracticeQuizAttemptPage.prototype;return t.componentDidMount=function(){var e=this.props,t=e.shouldRedirectToCover,n=e.redirectToCover;t&&n()},t.render=function(){var e=this.props,t=e.redirectToCover,n=e.redirectToNextItem,i=e.addRedirectToCoverToRouteParams,o=e.examSessionId;return Object(d.d)(h.a,null,(function(e){var s=e.item;return s?Object(d.d)(I.b,{onClose:t,ariaLabel:H()("Practice Quiz"),backbuttonAriaLabel:H()("Back to the Course"),headerLeft:Object(d.d)(lib_PracticeQuizData,{slug:s.courseSlug,itemId:s.id,userId:p.a.get().id,fetchPolicy:"network-only",examSessionId:o},(function(e){var t=e.totalPoints;return Object(d.d)(g.a,{headerText:s.name,itemTypeText:H()("Practice Quiz"),timeCommitment:s.timeCommitment,totalPoints:t})})),headerRight:Object(d.d)(S.a,{deadline:s.deadline,showLanguagesDropdown:Object(f.b)()}),topBanner:Object(d.d)(R.a,{slug:s.courseSlug,itemId:s.id,userId:p.a.get().id},(function(e){var i=e.bestEvaluation;return Object(d.d)(lib_PracticeQuizData,{slug:s.courseSlug,itemId:s.id,userId:p.a.get().id,fetchPolicy:"network-only",examSessionId:o},(function(e){var o=e.isSubmitted,a=(s.contentSummary&&"quiz"===s.contentSummary.typeName&&s.contentSummary.definition||{}).passingFraction,r=Object(J.a)(i),u=r?r>=a:void 0;return o&&a&&"number"==typeof r?Object(d.d)(v.a,{passingFraction:a,itemGrade:{grade:r,isPassed:u||!1,isOverridden:!1,latePenaltyRatio:null},onKeepLearningClick:n,onTryAgainClick:t}):null}))}))},Object(d.d)(y.a,{courseId:s.courseId}),Object(d.d)(lib_PracticeQuizData,{slug:s.courseSlug,itemId:s.id,userId:p.a.get().id,fetchPolicy:"network-only",examSessionId:o},(function(e){var t=e.loading,n=e.practiceQuizFormData,o=e.sessionId,r=e.nextSubmissionDraftId,u=e.practiceQuizQuestions,c=e.isSubmitted,l=e.hasDraft;if(t||!n||!u)return a||(a=Object(d.d)(O.a,null));var m=u.map((function(e){return e.prompt.id}));return Object(d.d)(b.a,{itemId:s.id,courseId:s.courseId},(function(e){var t=e.stepState,a=e.setStepState;return Object(d.d)("div",null,Object(d.d)("div",null,Object(d.d)(D.a,{quizFormData:n,isSubmitted:c,stepState:t})),!c&&Object(d.d)(lib_PracticeQuizActions,{ids:m,sessionId:o,nextSubmissionDraftId:r},(function(e){var n=e.saveDraft,o=e.autoSaveDraft,r=e.submitDraft;return Object(d.d)(j.a,{itemId:s.id,courseId:s.courseId,saveDraft:n,autoSaveDraft:o,submitDraft:function(){return r?r().then((function(){i()})):Promise.reject()},hasDraft:l,stepState:t,setStepState:a})})))}))}))):null}))},PracticeQuizAttemptPage}(c.Component),X=Object(l.b)(K.a,Object(m.a)((function(e,t){var n=t.nextItemUrl,i=void 0===n?"":n,o=t.refetchPracticeQuizCoverPageData,s=t.refreshProgress,redirectToCover=function(){o&&o(),e.push({name:"practice-quiz-cover",params:e.params,query:e.location.query}),s()};return{redirectToCover:redirectToCover,redirectToNextItem:function(){i?(e.push(i),s()):redirectToCover()},addRedirectToCoverToRouteParams:function(){e.push({name:"practice-quiz-attempt",params:e.params,query:{redirectToCover:!0}})},shouldRedirectToCover:e.location.query.redirectToCover}})));e.default=X(V)},JEIr:function(module,e,t){"use strict";var n,i=t("3tO9"),o=t.n(i),s=t("VkAN"),a=t.n(s),r=t("q1tI"),u=t("Gcrz"),d=t("UYTu"),c=Object(d.a)(n||(n=a()(['\n  query evaluationsQuery($itemId: String!, $userId: Int!, $slug: String!, $body: String!) {\n    evaluationsQuery(body: $body, itemId: $itemId, userId: $userId, slug: $slug)\n      @rest(\n        type: "RestEvaluations"\n        path: "opencourse.v1/user/{args.userId}/course/{args.slug}/item/{args.itemId}/quiz/evaluations"\n        method: "POST"\n        bodyKey: "body"\n      ) {\n      contentResponseBody @type(name: "RestPracticeQuizQuestionDataResponseBody")\n    }\n  }\n'])));e.a=function(e){var t=e.slug,n=e.userId,i=e.itemId,s=e.children,a={slug:t,itemId:i,userId:n};return r.createElement(u.c,{query:c,variables:o()(o()({},a),{},{body:{contentRequestBody:{}}}),fetchPolicy:"network-only"},(function(e){var t,n=e.loading,i=e.data,o=e.refetch,a=e.client;if(n)return s({loading:n});var r=(null==i?void 0:null===(t=i.evaluationsQuery)||void 0===t?void 0:t.contentResponseBody)||{},u=r.bestEvaluation,d=r.bestSessionId,c=r.lastEvaluation,l=r.lastSessionId,m=r.unsubmittedSessionId;return s({loading:!1,bestSessionId:d,bestEvaluation:u,lastEvaluation:c,lastSessionId:l,unsubmittedSessionId:m,refetch:o,client:a})}))}},O5zz:function(module,e,t){"use strict";var n=t("uFBg"),i=t("w9Ch"),o=t("lSNA"),s=t.n(o),a=t("3tO9"),r=t.n(a),u=t("vU9D"),util_transformQuizPartsToFormData=function(e,t,i){if(!t)return e&&e.map((function(e){var t,o,s,a,r,d;return(null==e?void 0:e.typeName)===n.c||(null==e?void 0:e.typeName)===n.a?e:{typeName:null==e?void 0:e.typeName,definition:{prompt:null==e?void 0:e.definition,response:{typeName:u.g.AUTO_GRADABLE_RESPONSE,definition:{value:i&&null!=e&&null!==(t=e.definition)&&void 0!==t&&null!==(o=t.effectiveResponse)&&void 0!==o&&o.response?null==e?void 0:null===(s=e.definition)||void 0===s?void 0:null===(a=s.effectiveResponse)||void 0===a?void 0:a.response:(r=null==e?void 0:e.definition,"widget"===(null==r?void 0:null===(d=r.question)||void 0===d?void 0:d.type)?{answer:{}}:null)}}}}}));var o=t.reduce((function(e,t){return r()(r()({},e),{},s()({},t.questionInstance,t.response))}),{});return e&&e.map((function(e){var t;if((null==e?void 0:e.typeName)===n.c||(null==e?void 0:e.typeName)===n.a)return e;var i=o[null==e?void 0:null===(t=e.definition)||void 0===t?void 0:t.id];return{typeName:null==e?void 0:e.typeName,definition:{prompt:null==e?void 0:e.definition,response:{typeName:u.g.AUTO_GRADABLE_RESPONSE,definition:{value:i}}}}}))};e.a=function(e){var t,o,s,a,r=e.parts,u=e.questions,d=e.responses,c=e.examSessionId,l=e.evaluation,m=util_transformQuizPartsToFormData(r,d,!!c)||[],p=Object(i.a)(l),f=(null==l?void 0:l.maxScore)||(null==m?void 0:m.reduce((function(e,t){var i,o,s;return(null==t?void 0:t.typeName)===n.c||(null==t?void 0:t.typeName)===n.a?0:e+(null==t?void 0:null===(i=t.definition)||void 0===i?void 0:null===(o=i.prompt)||void 0===o?void 0:null===(s=o.weightedScoring)||void 0===s?void 0:s.maxScore)}),0)),b=null==r?void 0:r.find((function(e){return e.typeName===n.b})),v=!(null!=b&&null!==(t=b.definition)&&void 0!==t&&t.isSubmitAllowed),g="NoDetails"===(null==u?void 0:null===(o=u[0])||void 0===o?void 0:null===(s=o.variant)||void 0===s?void 0:s.detailLevel),S=!!d,I=null==m?void 0:null===(a=m.filter((function(e){return(null==e?void 0:e.typeName)===n.b})))||void 0===a?void 0:a.map((function(e){return null==e?void 0:e.definition}));return{quizFormData:m,attemptScore:p,totalPoints:f,isSubmitted:v,isLimitedFeedback:g,hasDraft:S,quizQuestions:I}}},T8pS:function(module,e,t){"use strict";t.r(e);var n=t("q1tI"),i=t("sQ/U"),o=t("zaiP"),s=t("A9b0"),a=t("JEIr");e.default=function(e){var t=e.nextItemUrl;return(n.createElement(o.a,null,(function(e){var o=e.item;return o&&o.contentSummary?n.createElement(a.a,{slug:o.courseSlug,itemId:o.id,userId:i.a.get().id},(function(e){var i=e.loading,a=e.lastSessionId;return o&&o.contentSummary&&!i?n.createElement(s.default,{examSessionId:a,nextItemUrl:t}):null})):null})))}},kIii:function(module,e,t){"use strict";var n=t("q1tI"),i=t("eK4/"),o=t("AeFk"),s=t("8Hdl"),a=t("HDKb"),r=t("5mFy"),u=t("7Dw/"),d=t("Qdou"),c={root:function(e){return Object(o.c)({display:"flex",marginTop:e.spacing(48),marginBottom:e.spacing(48)})},accordionRoot:function(e){return Object(o.c)({marginLeft:"-16px",button:{outline:"none"},padding:e.spacing(0)})},numberCell:Object(o.c)({width:"26px"}),contentCell:Object(o.c)({width:"calc(100% - 26px)"}),cmlContainer:function(e){return Object(o.c)({".rc-CML.cml-cui p":{marginBottom:e.spacing(0)}})}},cds_TextBlock=function(e){var t=e.textBlock,n=e.isCollapsible,i=void 0!==n&&n,l=e.isExpanded,m=void 0!==l&&l,p=Object(o.d)(s.a,{component:"div",variant:"body1",css:c.cmlContainer},Object(o.d)(d.a,{value:null==t?void 0:t.body}));return Object(o.d)("div",{css:c.root},Object(o.d)("div",{css:c.contentCell},i?Object(o.d)("div",{css:c.accordionRoot},Object(o.d)(a.a,{variant:"silent",defaultExpanded:m},Object(o.d)(r.a,{label:null==t?void 0:t.title}),Object(o.d)(u.a,null,p))):p))},l=t("uFBg");e.a=function(e){var t,o=e.quizFormData,s=e.isSubmitted,a=e.stepState,r=0;return n.createElement(n.Fragment,null,o.map((function(e){if((null==e?void 0:e.typeName)===l.c||(null==e?void 0:e.typeName)===l.a){var o,u,d,c=e;return(null==c?void 0:c.typeName)!==l.a||t||(t=c),n.createElement(cds_TextBlock,{textBlock:null==c?void 0:c.definition,isCollapsible:(null==c?void 0:c.typeName)===l.a,isExpanded:(null===(o=t)||void 0===o?void 0:null===(u=o.definition)||void 0===u?void 0:u.id)===(null==c?void 0:null===(d=c.definition)||void 0===d?void 0:d.id)})}r+=1;var m=(null==e?void 0:e.definition)||e;return(n.createElement(i.a,{key:null==m?void 0:m.prompt.id,quizQuestion:m,index:r-1,isReadOnly:!!s,isDisabled:!(null==a||!a.isSaving)||!(null==a||!a.isSubmitting)}))})))}},rn7G:function(module,e,t){"use strict";var n,i,o=t("VkAN"),s=t.n(o),a=t("J4zp"),r=t.n(a),u=t("AeFk"),d=t("q1tI"),c=t("zXDh"),l=t("ZJgU"),m=t("nNSt"),p=t("gNwb"),f=t("J/Mu"),b=t("sRsZ"),v=t("l1eu"),g=t("lS+i"),S=t.n(g),I=Object(p.e)({type:"BUTTON"})(l.a),TranslatedQuizBannerInternal=function(e){var t=e.courseId,o=Object(c.getUserLanguageCode)(),a=Object(b.a)(t,o),l=Object(b.b)(),p=l.preferredLanguage,f=l.switchLanguage,v=l.savePreferredLanguage,g=Object(d.useReducer)((function(){return!0}),!1),y=r()(g,2),h=y[0],O=y[1],D={courseId:t,userLocale:o,preferredLanguage:p};return h?null:"AUTO_TRANSLATED"===(null==a?void 0:a.type)?Object(u.d)(m.a,{severity:"information",title:S()("You’re viewing an automatically-translated version of this assessment"),onDismiss:O},Object(u.d)(d.Fragment,null,S()("You can switch back to view this content in its original language if you’d prefer. You won’t lose any progress if you change languages."),Object(u.d)(I,{trackingName:"switch_to_original_language",trackingData:D,css:Object(u.c)(n||(n=s()(["\n              padding: 0 var(--cds-spacing-100);\n              margin-top: -4px;\n            "]))),variant:"ghost",onClick:function(){v(o),f(a.originalLanguage)}},S()("Show #{language} version",{language:Object(c.languageCodeToName)(a.originalLanguage)})))):p?Object(u.d)(m.a,{severity:"information",title:S()("You’re viewing this assessment in its original language"),onDismiss:function(){v(null),O()}},Object(u.d)(d.Fragment,null,S()("You can switch back to view this content in your preferred translation if you’d prefer. You won’t lose any progress if you change languages."),Object(u.d)(I,{trackingName:"switch_to_preferred_language",trackingData:D,css:Object(u.c)(i||(i=s()(["\n              padding: 0 var(--cds-spacing-100);\n              margin-top: -2px;\n            "]))),variant:"ghost",onClick:function(){v(null),f(p)}},S()("Show #{language} version",{language:Object(c.languageCodeToName)(p)})))):null};e.a=function(e){return Object(f.b)()?Object(u.d)(v.b,null,Object(u.d)(TranslatedQuizBannerInternal,e)):null}},"tcH/":function(module,e,t){"use strict";var n,i,o=t("3tO9"),s=t.n(o),a=t("VbXa"),r=t.n(a),u=t("AeFk"),d=t("q1tI"),c=t("HOoY"),l=t("ZJgU"),m=t("8xbv"),p=t("PB6g"),f=t("aFpJ"),b=t("EqTq"),v=t("sF8w"),g=Object(b.a)("BasicErrorModalDisplayManager"),S=function(e){function BasicErrorModalDisplayManager(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).state={showErrorModal:!1},t.handleErrorConfirm=function(){var e=t.props.setStepState;t.setState({showErrorModal:!1}),e({errorCode:null})},t}r()(BasicErrorModalDisplayManager,e);var t=BasicErrorModalDisplayManager.prototype;return t.componentWillReceiveProps=function(e){var t=e.stepState,n=this.props.stepState;n.errorCode||n.errorCode===t.errorCode||this.setState({showErrorModal:!0})},t.render=function(){var e=this.props.stepState.errorCode,t=this.state.showErrorModal;return d.createElement("div",{className:g()},t&&d.createElement(v.a,{errorCode:e,onPrimaryButtonClick:this.handleErrorConfirm,onCancelButtonClick:this.handleErrorConfirm}))},BasicErrorModalDisplayManager}(d.Component),I=t("CnKM"),y=t("KvdX"),h=t("YmkS"),O=t("qJwm"),D=t("rQpo"),j=t("zaiP"),R=t("8ec0"),P=t("d3Ej"),C=t.n(P),Q={root:function(e){return Object(u.c)({margin:e.spacing(48,0)})},buttonsContainer:function(e){return Object(u.c)({marginTop:e.spacing(32),paddingBottom:e.spacing(48),borderBottom:"1px solid ".concat(e.palette.gray[300]),marginBottom:e.spacing(12)})},saveButton:function(e){return Object(u.c)({marginLeft:e.spacing(24)})}},E=function(e){function SubmissionControls(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).state={canSubmit:!1,announcement:""},t.onSubmitClick=function(){var e=t.props,n=e.hasUnfilledResponses,i=e.updateAndSubmitDraft,o=e.showModal,trackedUpdateAndSubmitDraft=function(){return i&&i().then((function(){c.a.trackComponent({namespace:{app:"open_course",page:"item_page"}},{},"submit","quiz")}))};n?o({type:y.a.unansweredQuestions,props:{onPrimaryButtonClick:trackedUpdateAndSubmitDraft}}):i&&(t.setAnnouncement(C()("Submitting assignment")),trackedUpdateAndSubmitDraft())},t.enableSubmit=function(){t.setState({canSubmit:!0})},t.disableSubmit=function(){t.setState({canSubmit:!1})},t.autoSubmit=function(){var e=t.props,n=e.showModal,i=e.hideModal,o=e.submitLatestSubmissionDraft;n({type:y.a.timeExpiredModal,props:{onPrimaryButtonClick:i}}),o&&o()},t.startAutoSubmitTimeout=function(){var e=t.props.expiresAt;"number"==typeof e&&(t.autoSubmitTimeout=window.setTimeout(t.autoSubmit,e-Date.now()))},t.setAnnouncement=function(e){t.setState({announcement:e},(function(){setTimeout((function(){t.setState({announcement:""})}),150)}))},t.updateDraft=function(){var e=t.props.updateDraft;e&&(t.setAnnouncement(C()("Saving draft submission")),e().then((function(){t.setAnnouncement(C()("Draft submission saved successfully"))})))},t}r()(SubmissionControls,e);var t=SubmissionControls.prototype;return t.componentDidMount=function(){var e=this.props,t=e.hasDraft,n=e.autoSaveDraft,i=e.submitLatestSubmissionDraft;!t&&n&&n(),i&&this.startAutoSubmitTimeout()},t.componentDidUpdate=function(e){var t=this.props.expiresAt;e.expiresAt!==t&&this.autoSubmitTimeout&&(clearTimeout(this.autoSubmitTimeout),this.autoSubmitTimeout=null,this.startAutoSubmitTimeout())},t.componentWillUnmount=function(){this.autoSubmitTimeout&&clearTimeout(this.autoSubmitTimeout)},t.render=function(){var e,t,o=this,s=this.props,a=s.stepState,r=a.isSaving,d=a.isSubmitting,c=a.isAutoSaving,b=s.stepState,v=s.setStepState,g=s.updateDraft,I=s.updateAndSubmitDraft,y=this.state,R=y.canSubmit,P=y.announcement,E=r||c,z=E||d;return Object(u.d)(j.a,null,(function(s){var a=s.item;return a&&a.isPremiumGradingLocked?Object(u.d)("div",null,Object(u.d)(D.a,{courseId:a.courseId})):Object(u.d)("div",{css:Q.root},Object(u.d)("div",null,Object(u.d)(f.a,{onAgreementComplete:o.enableSubmit,onAgreementIncomplete:o.disableSubmit})),Object(u.d)("div",{css:Q.buttonsContainer},I&&Object(u.d)(l.a,{"data-test":"submit-button",iconPosition:"before",icon:d?n||(n=Object(u.d)(m.a,null)):void 0,onClick:o.onSubmitClick,disabled:z||!R,variant:"primary"},d?C()("Submitting…"):C()("Submit")),g&&Object(u.d)(l.a,{"data-test":"save-draft-button",iconPosition:"before",icon:E?i||(i=Object(u.d)(m.a,null)):void 0,onClick:o.updateDraft,disabled:!!z,variant:"secondary",css:Q.saveButton},E?C()("Saving..."):C()("Save draft"))),Object(u.d)(h.a,{computedItem:a,itemFeedbackType:O.c.Quiz}),Object(u.d)(p.b,{tagName:"span",role:"region","aria-live":"assertive","aria-atomic":!0},P&&(e||(e=Object(u.d)("span",null,P)))),t||(t=Object(u.d)(S,{stepState:b,setStepState:v})))}))},SubmissionControls}(d.Component);e.a=function(e){var t=e.saveDraft,n=e.submitDraft,i=e.hasTimer,o=e.itemId,a=e.isSubmitted;return t&&n?i?Object(u.d)(I.a,{id:Object(R.a)(o)},(function(i){var o=i.expiresAt;return Object(u.d)(y.b,null,(function(i){var r=i.showModal,d=i.hideModal;return a?null:Object(u.d)(E,s()(s()({},e),{},{updateDraft:t,updateAndSubmitDraft:n,showModal:r,hideModal:d,expiresAt:o}))}))})):Object(u.d)(y.b,null,(function(i){var o=i.showModal,r=i.hideModal;return a?null:Object(u.d)(E,s()(s()({},e),{},{updateDraft:t,updateAndSubmitDraft:n,showModal:o,hideModal:r}))})):null}},uFBg:function(module,e,t){"use strict";t.d(e,"b",(function(){return n})),t.d(e,"c",(function(){return i})),t.d(e,"a",(function(){return o}));var n="question",i="textBlock",o="collapsibleTextBlock"},usGt:function(module,e,t){"use strict";var n=t("17x9"),i=t.n(n),o=t("MnCE"),s=t("8cuT"),a=t("k4cE"),r=t("i6HE"),u=t("E4RX"),d=Object(o.b)(Object(o.c)({executeAction:i.a.func.isRequired}),Object(s.a)(["CourseStore"],(function(e,t){var n=e.CourseStore,i=t.executeAction,o=n.getCourseId(),s=n.getCourseSlug();return{refreshProgress:function(){i(r.b,{courseId:o}),i(u.a,{courseId:o,refreshProgress:!0}),i(a.a,{courseSlug:s,refetch:!0})}}})));e.a=d},wIYG:function(module,e,t){"use strict";var n,i=t("q1tI"),o=t("VMeS");e.a=function(){return n||(n=i.createElement("div",{role:"alert","aria-live":"assertive"},i.createElement(o.a,null)))}}}]);
//# sourceMappingURL=78.da1a1f9f4e40d10f6c5f.js.map